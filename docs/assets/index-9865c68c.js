import{r as s,j as e}from"./react-c355daf9.js";import{c as ps}from"./react-dom-07b5f8f8.js";import{L as B,B as fs}from"./react-router-dom-15731ce3.js";import{I as Ns,a as bs,b as vs,B as ys,P as Cs,c as Ss,F as Q,d as ks,e as Be,f as Is,g as Xe,h as ws,i as Ts,L as be,M as Ps,j as As,k as $e,A as Fe,l as qe,m as Ve,n as Ke,o as Es,T as Bs,p as Ds,q as Ms}from"./react-icons-973e6c29.js";import{S as Rs}from"./react-slick-1a4ecacc.js";/* empty css                       */import{b as ue,d as ve,e as $,f as es,a as K}from"./react-router-79c5cdd6.js";import{_ as xe}from"./react-js-pagination-5726f449.js";import{M as me}from"./react-modal-432e1ecd.js";import{a as ee}from"./axios-4a70c6fc.js";import"./@react-oauth-a82640cb.js";import{D as ss}from"./react-daum-postcode-e203d5d7.js";import{U as Os,X as Ls}from"./react-datepicker-b07d5361.js";import{a2 as we,K as Y,a3 as $s,a4 as Fs,C as qs,a5 as Vs,M as Ks,a6 as Us,W as Hs,a7 as Qs,U as Ee,R as ze,i as Ne,c as oe,a8 as Ge}from"./date-fns-1c578d98.js";import{w as Js,M as _s,O as Ws}from"./react-kakao-maps-sdk-71574dc9.js";import{D as Z}from"./draft-js-5b0ba745.js";import{r as Ue}from"./react-draft-wysiwyg-20797973.js";import{d as He}from"./draftjs-to-html-82d355c1.js";import"./classnames-c68cc36e.js";import"./scheduler-765c72db.js";import"./@remix-run-d753ad9e.js";import"./lodash.debounce-b5c7dd5f.js";import"./resize-observer-polyfill-5b99814a.js";import"./json2mq-d3ccca5e.js";import"./string-convert-c60507dd.js";import"./enquire.js-33edb58f.js";import"./object-assign-b33fa8b7.js";import"./prop-types-387d7a00.js";import"./paginator-d03ab769.js";import"./warning-a5063e28.js";import"./exenv-9baed461.js";import"./react-lifecycles-compat-b5d2eeba.js";import"./react-onclickoutside-5cc90bd2.js";import"./react-popper-a418252a.js";import"./react-fast-compare-ff5a9a96.js";import"./@popperjs-f3391c26.js";import"./@babel-e65c6041.js";import"./fbjs-c97a2fd0.js";import"./ua-parser-js-ec85a638.js";import"./setimmediate-a7ed8fb7.js";import"./immutable-d9a8c482.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function l(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=l(a);fetch(a.href,d)}})();function Ys(){const[t,n]=s.useState(!1);return s.useEffect(()=>{const l=()=>{const o=window.pageYOffset,d=document.getElementById("targetElement").getBoundingClientRect().top+window.pageYOffset;o>d-550&&n(!0)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]),s.useEffect(()=>{document.querySelector("#aboutText").classList.add("animationClass")},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"aboutText",children:[e.jsx("div",{children:"늘 마음뿐이던 자원봉사"}),e.jsx("div",{children:'이젠 "나눔"과 함께하세요'})]}),e.jsxs("div",{className:`iconBox scrollAnimate ${t?"visible":""}`,id:"targetElement",children:[e.jsxs("div",{className:"iconList1",children:[e.jsx(Ns,{}),e.jsx("p",{children:"내게 맞는 자원봉사 활동을"}),e.jsx("p",{children:"검색할 수 있습니다"})]}),e.jsxs("div",{className:"iconList2",children:[e.jsx(bs,{}),e.jsx("p",{children:"조회하기 힘들었던 자원봉사내역"}),e.jsx("p",{children:"쉽게 찾아 볼 수 있습니다"})]}),e.jsxs("div",{className:"iconList3",children:[e.jsx(vs,{}),e.jsx("p",{children:"자원봉사자들과 게시판을 통해"}),e.jsx("p",{children:"소통할 수 있습니다"})]})]}),e.jsx("div",{className:`imgBox scrollAnimate ${t?"visible":""}`,id:"targetElement",children:e.jsx("img",{src:"/images/circle.png"})})]})}function zs(){const[t,n]=s.useState({navItem1:!1,navItem2:!1,navItem3:!1,navItem4:!1,navItem5:!1}),l=a=>{n(d=>({...d,[a]:!0}))},o=a=>{n(d=>({...d,[a]:!1}))};return e.jsxs("nav",{children:[e.jsxs("ul",{className:"navItem1",onMouseEnter:()=>l("navItem1"),onMouseLeave:()=>o("navItem1"),children:["소개",t.navItem1&&e.jsx("ul",{className:"dropBox",children:e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/about",children:"나눔 소개"})})})]}),e.jsxs("ul",{className:"navItem2",onMouseEnter:()=>l("navItem2"),onMouseLeave:()=>o("navItem2"),children:["봉사활동검색",t.navItem2&&e.jsx("ul",{className:"dropBox",children:e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/volunteer",children:"봉사활동검색"})})})]}),e.jsxs("ul",{className:"navItem3",onMouseEnter:()=>l("navItem3"),onMouseLeave:()=>o("navItem3"),children:["게시판",t.navItem3&&e.jsxs("ul",{className:"dropBox",children:[e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"board/",state:{boardKind:"1",boardName:"공지사항"},children:"공지사항"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"board/news",state:{boardKind:"2",boardName:"소식공유"},children:"소식공유"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"board/freeboard",state:{boardKind:"3",boardName:"자유게시판"},children:"자유게시판"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"board/review",state:{boardKind:"4",boardName:"봉사후기"},children:"봉사후기"})})]})]}),e.jsxs("ul",{className:"navItem4",onMouseEnter:()=>l("navItem4"),onMouseLeave:()=>o("navItem4"),children:["마이페이지",t.navItem4&&e.jsxs("ul",{className:"dropBox",children:[e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/mypage",children:"회원정보"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/myVolunteer",children:"봉사신청내역"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/volunteerSpec",children:"봉사완료내역"})}),e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/volunteerReview",children:"내가작성한글"})})]})]}),e.jsxs("ul",{className:"navItem5",onMouseEnter:()=>l("navItem5"),onMouseLeave:()=>o("navItem5"),children:["고객센터",t.navItem5&&e.jsx("ul",{className:"dropBox",children:e.jsx("li",{className:"dropItem",children:e.jsx(B,{to:"/qna",children:"QnA"})})})]})]})}const J=s.createContext(),Gs=({children:t})=>{const[n,l]=s.useState(!1),[o,a]=s.useState(null),[d,r]=s.useState(null),[i,c]=s.useState(null);s.useEffect(()=>{const h=localStorage.getItem("accessToken"),m=localStorage.getItem("refreshToken");l(!!(h&&m))},[]),s.useEffect(()=>{n&&fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(h=>{if(h.ok)return h.json();throw new Error("네트워크 응답이 올바르지 않습니다.")}).then(h=>{h&&(a(h.id),localStorage.setItem("nickname",h.nickname),r(h.authority),c(h.emailVerify))}).catch(h=>{console.error("사용자 데이터를 가져오는 중 오류 발생:",h)})},[n]);const u={isLogin:n,userId:o,auth:d,emailVerify:i};return e.jsx(J.Provider,{value:u,children:t})};function Zs(){const t=s.useContext(J),[n,l]=s.useState(!1);s.useState(!1),s.useEffect(()=>{localStorage.getItem("accessToken")&&l(!0),console.log(n),console.log(localStorage)},[]);const o=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("nickname"),localStorage.removeItem("email"),localStorage.removeItem(void 0),l(!1),document.location.href="/"};return e.jsx(e.Fragment,{children:n?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"loginName",children:[t.auth=="ROLE_ADMIN"&&e.jsx(B,{to:"/admin",className:"toAdminPage-btn",children:e.jsx(ys,{className:"adminBtn"})}),e.jsxs(B,{to:"/MyPage",className:"welcomeBox",children:[e.jsx(Cs,{className:"loginImg"}),localStorage.getItem("nickname"),"님, 안녕하세요!"]}),e.jsxs(B,{to:"/",onClick:o,className:"logoutBtn",children:["로그아웃 ",e.jsx("img",{src:"/images/logoutIcon.png"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs("ul",{className:"utilWrap",children:[e.jsx("li",{className:"utilItem2",children:e.jsx(B,{to:"/login",children:"로그인"})}),e.jsx("li",{className:"utilItem3",children:e.jsx(B,{to:"/signup",children:"회원가입"})})]})})})}function Xs(){return e.jsx("header",{children:e.jsxs("div",{className:"navBar",children:[e.jsx("div",{className:"logoWrap",children:e.jsx(B,{to:"/",children:e.jsx("img",{id:"logoImg",src:"/images/logo.png",alt:"로고이미지"})})}),e.jsx(zs,{}),e.jsx(Zs,{})]})})}function et(){return e.jsx("footer",{children:e.jsxs("div",{className:"footerBar",children:[e.jsxs("ul",{className:"footerMenu",children:[e.jsx("li",{className:"footerMenuName",children:"소개"}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/about",children:"나눔 소개"})})]}),e.jsxs("ul",{className:"footerMenu",children:[e.jsx("li",{className:"footerMenuName",children:"봉사활동검색"}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/volunteer",children:"봉사활동검색"})})]}),e.jsxs("ul",{className:"footerMenu",children:[e.jsx("li",{className:"footerMenuName",children:"게시판"}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/notice",children:"공지사항"})}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/news",children:"소식공유"})}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/board",children:"자유게시판"})}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/review",children:"후기게시판"})})]}),e.jsxs("ul",{className:"footerMenu",children:[e.jsx("li",{className:"footerMenuName",children:"마이페이지"}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/mypage",children:"회원정보"})}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/mypage/volunteerList",children:"나의자원봉사"})}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/mypage/wishList",children:"관심목록"})})]}),e.jsxs("ul",{className:"footerMenu",children:[e.jsx("li",{className:"footerMenuName",children:"고객센터"}),e.jsx("li",{className:"footerMenuList",children:e.jsx(B,{to:"/qna",children:"QnA"})})]})]})})}function st(){const t=["/images/banner-slide1.jpg","/images/banner-slide2.jpg","/images/banner-slide3.jpg","/images/banner-slide4.jpg"],[n,l]=s.useState(0);s.useEffect(()=>{const a=setInterval(()=>{l(d=>(d+1)%t.length)},5e3);return()=>{clearInterval(a)}},[t.length]);const o=a=>{l(a)};return e.jsxs("div",{className:"slide-banner",children:[t.map((a,d)=>e.jsx("div",{className:`slide ${d===n?"active":""}`,style:{backgroundImage:`url(${a})`}},d)),e.jsxs("div",{className:"bannerTitleBox",children:[e.jsx("div",{className:"bannerTitle",children:"작은 나눔이 모여 큰 희망으로"}),e.jsx("div",{className:"bannerToVolunteer",children:e.jsxs(B,{to:"/volunteer",children:["나눔하러가기",e.jsx(Ss,{className:"arrowRight"})]})})]}),e.jsx("div",{className:"dots",children:t.map((a,d)=>e.jsx("span",{className:`dot ${d===n?"active":""}`,onClick:()=>o(d)},d))})]})}function tt(){function t(i){const c=i+"",u=c.substring(0,4),h=c.substring(4,6),m=c.substring(6,c.length);return u+"-"+h+"-"+m}function n(i){const c=i+"",u=c.substring(0,4),h=c.substring(4,6),m=c.substring(6,c.length);return new Date(u+"-"+h+"-"+m)}const l=ue(),o=JSON.stringify(l.state.progrmRegistNo),[a,d]=s.useState({});s.useEffect(()=>{(async()=>(await fetch("/api/detail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({progrmRegistNo:o})})).json())().then(c=>{d(c)})},[]);const r=i=>{(a.progrmSttusSe===3||n(a.noticeEndde)<=new Date)&&i.preventDefault()};return console.log("마감일자: "+t(a.noticeEndde)),e.jsxs("div",{className:"vDetail",children:[e.jsxs("div",{className:"buttonLine",children:[e.jsx(B,{to:"/volunteer",children:e.jsx("button",{className:"btnToList",children:"목록으로"})}),e.jsx(B,{onClick:r,to:`/reserve/${o}`,state:{data:a},children:e.jsx("button",{className:a.progrmSttusSe===3?"btnClose":"btnSubmit",children:a.progrmSttusSe===3||n(a.noticeEndde)<=new Date?"신청마감":"신청하기"})})]}),e.jsxs("div",{className:"vDetailCategory",children:[e.jsx("div",{className:"categoryItem title",children:a.progrmSj}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"모집기간"]})," ",t(a.noticeBgnde)," ~ ",t(a.noticeEndde)]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"봉사기간"]})," ",t(a.progrmBgnde)," ~ ",t(a.progrmEndde)]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"모집인원"]})," ",a.rcritNmpr," 명 / 일"]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"신청인원"]})," ",a.appTotal," 명"]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"봉사장소"]})," ",a.actPlace]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"봉사기관"]}),"  ",a.mnnstNm]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"연령제한"]}),a.adultPosblAt==="Y"?"성인가능 ":"성인불가 ",a.yngbgsPosblAt==="Y"?"청소년가능 ":"청소년불가 ",a.grpPosblAt==="Y"?"기업·단체 ":""]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"활동요일"]})," ",a.actWkdy]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"봉사분야"]})," ",a.srvcClCode]}),e.jsxs("div",{className:"categoryItem",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"봉사시간"]})," ",a.actBeginTm,"시 ~ ",a.actEndTm,"시 "]}),e.jsxs("div",{className:"categoryItem state",children:[e.jsxs("p",{className:"itemName",children:[e.jsx(Q,{className:"circleIcon"}),"모집상태"]}),a.progrmSttusSe===1?"모집대기":a.progrmSttusSe===2?"모집중":"모집완료"]})]}),e.jsxs("div",{className:"vDetailContents",children:[e.jsx("div",{}),e.jsx("p",{children:a.progrmCn})]}),e.jsxs("div",{className:"contactList",children:[e.jsxs("div",{className:"contactTitle",children:[e.jsx(ks,{className:"phoneIcon"}),"담당자 연락처"]}),e.jsxs("div",{className:"contactItem",children:[e.jsx(Q,{className:"circleIcon"}),"담당자명: ",a.nanmmbyNmAdmn]}),e.jsxs("div",{className:"contactItem",children:[e.jsx(Q,{className:"circleIcon"}),"전화번호: ",a.telno]}),e.jsxs("div",{className:"contactItem",children:[e.jsx(Q,{className:"circleIcon"}),"FAX: ",a.fxnum]}),e.jsxs("div",{className:"contactItem",children:[e.jsx(Q,{className:"circleIcon"}),"EMAIL: ",a.email==="default"?"-":a.email]}),e.jsxs("div",{className:"contactItem addr",children:[e.jsx(Q,{className:"circleIcon"}),"주소: ",a.postAdres]})]})]})}function Qe(){return e.jsxs("main",{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"봉사활동찾기"})}),e.jsx(tt,{})]})}function at(t){function n(o){const a=o+"",d=a.substring(0,4),r=a.substring(4,6),i=a.substring(6,a.length);return d+"-"+r+"-"+i}const l={progrmRegistNo:t.data.progrmRegistNo,region:t.data.sidoCd,title:t.data.progrmSj,recruit:n(t.data.noticeBgnde)+" ~ "+n(t.data.noticeEndde),period:n(t.data.progrmBgnde)+" ~ "+n(t.data.progrmEndde),category:t.data.srvcClCode};return e.jsxs("div",{className:"vBannerList",children:[e.jsx("div",{className:"region",children:l.region}),e.jsx("div",{className:"titleBox",children:e.jsx("div",{className:"title",children:l.title})}),e.jsxs("div",{className:"detailBox",children:[e.jsxs("div",{className:"recruitmentPeriod",children:["모집기간 : ",l.recruit]}),e.jsxs("div",{className:"recruitmentKind",children:["봉사분야 : ",l.category]}),e.jsxs("div",{className:"volunteerPeriod",children:["봉사기간 : ",l.period]})]}),e.jsx("div",{className:"goToVolunteer",children:e.jsxs(B,{to:`/vdetail/${l.progrmRegistNo}`,state:{progrmRegistNo:l.progrmRegistNo},className:"goToVolunteer",children:["상세보기",e.jsx(Be,{className:"arrowFoward"})]})}),e.jsx(ve,{children:e.jsx($,{path:"/vdetail/vol=",data:l.progrmRegistNo,element:e.jsx(Qe,{})})})]})}function nt(){const[t,n]=s.useState([]);s.useEffect(()=>{(async()=>await(await fetch("/api/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schCateGu:"all",keyword:"교류"})})).json())().then(r=>{n(r.items.item)})},[]);const l=({currentSlide:d,slideCount:r,...i})=>e.jsx("div",{...i,className:"custom-prev-arrow",children:e.jsx(Xe,{className:"vArrowBack"})}),o=({currentSlide:d,slideCount:r,...i})=>e.jsx("div",{...i,className:"custom-next-arrow",children:e.jsx(Be,{className:"vArrowForward"})}),a={infinite:!0,slidesToShow:4,slidesToScroll:4,prevArrow:e.jsx(l,{}),nextArrow:e.jsx(o,{})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"vBannerBackground",children:[e.jsx("div",{className:"vBannerTitle",children:"모집중인 자원봉사"}),e.jsx("div",{className:"toVolunteerPage",children:e.jsxs(B,{to:"/volunteer",className:"toVolunteerPage",children:[e.jsx(Is,{}),"더보기"]})}),e.jsx(Rs,{...a,children:t.map((d,r)=>e.jsx(at,{data:d,num:r},r))})]})})}function lt(){return e.jsxs("main",{children:[e.jsx(st,{}),e.jsx(nt,{})]})}function ot({boardData:t}){const n=t.volunteerId;console.log(n);const[l,o]=s.useState();async function a(){await fetch("/api/boards/volunteer/"+n).then(r=>r.json()).then(r=>{console.log(r),o(r)})}s.useEffect(()=>{a()},[]);function d(r){return r.slice(0,10)}return l&&e.jsx("div",{className:"board-detail-review-info-list",children:e.jsxs("div",{children:[e.jsxs("li",{className:"board-detail-review-info review-title",children:[e.jsx("div",{className:"board-detail-review-dataname",children:"봉사활동"}),e.jsx("div",{children:l.progrmSj})]}),e.jsxs("li",{className:"board-detail-review-info review-date",children:[e.jsx("div",{className:"board-detail-review-dataname",children:"봉사기간"}),e.jsxs("div",{children:[d(l.progrmBgnde)," ~ ",d(l.progrmEndde)]})]}),e.jsxs("li",{className:"board-detail-review-info review-ministry",children:[e.jsx("div",{className:"board-detail-review-dataname",children:"봉사기관"}),e.jsx("div",{children:l.mnnstNm})]}),e.jsxs("li",{className:"board-detail-review-info review-field",children:[e.jsx("div",{className:"board-detail-review-dataname",children:"봉사분야"}),e.jsx("div",{children:l.srvcClCode})]})]})})}function ct(){const t="http://localhost:9090",n=s.useContext(J);console.log(n.userId),console.log(n.auth);let{id:l}=es();const o=K(),[a,d]=s.useState(!1),[r,i]=s.useState(1),[c,u]=s.useState({}),[h,m]=s.useState([]),[x,j]=s.useState([]),[A,p]=s.useState({}),[b,I]=s.useState(),[R,S]=s.useState({}),[v,f]=s.useState(!1),[y,C]=s.useState(!1),[D,H]=s.useState(!1),[w,T]=s.useState(!1),[P,F]=s.useState(!1),[_,z]=s.useState(0),[X,W]=s.useState(0),se=N=>{switch(N){case"1":return"공지사항";case"2":return"소식공유";case"3":return"자유게시판";case"4":return"봉사후기";default:return"알 수 없음"}};async function q(){fetch("/api/boards/"+l).then(N=>N.json()).then(N=>{u(N),console.log(N)}).catch(N=>{console.error(N)})}async function U(){fetch("/api/replies/"+l).then(N=>N.json()).then(N=>{m(N),console.log(N)}).catch(N=>{console.error(N)})}s.useEffect(()=>{q(),U()},[]);const V=async N=>{fetch("/api/child-replies/"+N).then(O=>O.json()).then(O=>{console.log(O),j(O)}).catch(O=>{console.error(O)}),console.log(N),console.log(_),console.log(X)},G=async()=>{confirm("삭제하시겠습니까?")&&fetch(`/api/boards/delete/${l}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"N"})}).then(N=>N.json()).then(N=>{console.log(N),o("/board",{state:{boardKind:c.flg}})}).catch(N=>{console.error(N)})},te=async()=>{let N;if(v){if(A==null){alert("댓글을 입력해주세요");return}if(!confirm("저장하시겠습니까?"))return;N={content:A,userId:n.userId}}else{if(R==null){alert("댓글을 입력해주세요");return}if(!confirm("저장하시겠습니까?"))return;N={content:R.content,userId:n.userId,parentNo:R.reply}}console.log(N),fetch(`/api/replies/post/${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}).then(O=>O.json()).then(O=>{console.log("댓글입력완료",O),p(),S(),f(!1),T(!1),U(),D&&V(R.reply)}).catch(O=>{console.error(O)})},ce=async N=>{if(b==""){C(!1),F(!1),alert("수정완료");return}let O={content:b,status:"Y"};if(!confirm("수정하시겠습니까?")){C(!1),F(!1);return}fetch(`/api/replies/update/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}).then(L=>L.json()).then(L=>{console.log(L),C(!1),F(!1),I(""),U(),V(x[0].reply),alert("수정완료")}).catch(L=>{console.error(L)})},g=async N=>{let O={status:"N"};if(!confirm("삭제하시겠습니까?")){C(!1),F(!1);return}fetch(`/api/replies/update/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}).then(L=>L.json()).then(L=>{console.log(L),U(),V(x[0].reply),alert("삭제완료")}).catch(L=>{console.error(L)})},E=async()=>{let N={reporter:n.userId,users:c.userId,reason:r};fetch(`/api/report/${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}).then(O=>O.json()).then(O=>{if(console.log(O),O==!0){alert("이미 신고한 게시글 입니다."),d(!1);return}alert("신고되었습니다."),d(!1)}).catch(O=>{console.log(O.message),console.error(O)})};return c&&e.jsxs("div",{className:"board-detail-container",children:[e.jsx("div",{className:"board-detail-kind",children:e.jsx("h1",{children:se(c.flg)})}),e.jsx("div",{className:"backBtnBox",children:e.jsx(B,{to:"/board",onClick:()=>{o(-1,{boardKind:c.flg})},children:"목록으로"})}),e.jsxs("div",{className:"board-detail-box",children:[e.jsxs("div",{className:"board-detail-header",children:[e.jsx("div",{className:"board-title",children:e.jsx("h2",{children:c.title})}),e.jsxs("div",{className:"board-detail-info",children:[e.jsxs("div",{className:"board-writter-date",children:[c.flg=="3"||c.flg=="4"?e.jsxs("p",{children:[e.jsx(ws,{className:"profileIcon"})," ",c.name]}):null,e.jsxs("p",{children:["등록일 : ",c.createAt2]})]}),c.flg=="3"||c.flg=="4"?e.jsxs("span",{className:"board-reportBtn",onClick:()=>{d(!0)},children:[e.jsx(Ts,{className:"sirenIcon"}),"게시글신고"]}):null]})]}),c.volunteerId&&e.jsx(ot,{boardData:c}),e.jsxs("div",{className:"board-detail-content",children:[c.boardImgs&&c.boardImgs.map((N,O)=>e.jsx("div",{className:"board-detail-image",children:N.status=="Y"&&e.jsx("img",{src:`${t}/api/image/${N.name}`})},N.id)),e.jsx("div",{dangerouslySetInnerHTML:{__html:c.content}})]})]}),c.userId==n.userId||n.auth=="ROLE_ADMIN"?e.jsxs("div",{className:"board-detail-btn",children:[e.jsx("button",{onClick:()=>{o("/board/input",{state:{boardData:c,formKind:"modify",boardKind:c.flg}})},children:"수정"}),e.jsx("button",{onClick:G,children:"삭제"})]}):null,c.flg=="3"||c.flg=="4"?e.jsxs("div",{className:"board-reply-container",children:[e.jsxs("div",{className:"board-reply-header",children:[e.jsxs("p",{children:["댓글(",h.length,")"]}),e.jsx("button",{onClick:()=>{f(!v)},children:"댓글작성"})]}),v?e.jsxs("div",{className:"board-reply-input",children:[e.jsx("textarea",{onChange:N=>{console.log(N.target.value),p(N.target.value)}}),e.jsx("button",{onClick:te,children:"입력"})]}):null,h.map((N,O)=>e.jsxs("div",{className:"board-reply-content",children:[e.jsx("div",{className:"reply-writter",children:e.jsxs("p",{className:"reply-writter-nick",children:[e.jsx(be,{className:"flowerIcon"}),N.name]})}),y&&_===O?e.jsxs("div",{className:"board-reply-modify",children:[e.jsx("textarea",{value:b||N.content,onChange:L=>{I(L.target.value)}}),e.jsx("button",{onClick:()=>{ce(N.id)},children:"저장"}),e.jsx("button",{onClick:()=>{C(!y)},children:"취소"})]}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"reply-content",children:N.content})}),e.jsx("div",{className:"reply-date",children:N.createAt2}),e.jsxs("div",{className:"reply-button-area",children:[e.jsxs("div",{className:"reply-childBtn-area",children:[e.jsx("p",{onClick:()=>{H(!D),V(N.id),z(O)},children:D?"대댓글닫기":"대댓글보기"}),e.jsx("p",{onClick:()=>{T(!0),H(!0),z(O)},children:"댓글달기"})]}),e.jsx("div",{className:"reply-modifyBtn-area",children:N.userId==n.userId&&!y&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{C(!0),z(O),console.log(N.content),console.log(typeof N.content)},children:"수정"}),e.jsx("button",{onClick:()=>{g(N.id)},children:"삭제"})]})})]}),w&&_===O?e.jsxs("div",{className:"child-reply-input",children:[e.jsx("textarea",{name:N.id,onChange:L=>{console.log(L.target.name),S({content:L.target.value,reply:L.target.name})}}),e.jsx("button",{onClick:te,children:"작성"}),e.jsx("button",{onClick:()=>{T(!1)},children:" 취소 "})]}):null,D&&_===O?e.jsx("div",{className:"board-child-reply-container",children:x.map((L,ye)=>e.jsxs(e.Fragment,{children:[e.jsx(Ps,{}),e.jsxs("div",{className:"board-child-reply-content",children:[e.jsxs("div",{className:"child-reply-writter",children:[e.jsx(be,{className:"flowerIcon"}),L.name]}),P&&X===ye?e.jsxs("div",{children:[e.jsx("textarea",{value:b||L.content,onChange:De=>{I(De.target.value)}}),e.jsx("button",{onClick:()=>{ce(L.id)},children:"저장"}),e.jsx("button",{onClick:()=>{F(!1)},children:"취소"})]}):e.jsx("div",{className:"child-reply-content",children:L.content}),L.userId==n.userId&&!P&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{F(!0),W(ye),console.log(ye)},children:"수정"}),e.jsx("button",{onClick:()=>{g(L.id)},children:"삭제"})]})]},ye)]}))}):null]},O))]}):null,e.jsx(me,{style:rt,isOpen:a,onRequestClose:()=>{d(!1)},children:e.jsxs("div",{children:[e.jsx(As,{className:"XBtn",onClick:()=>{d(!1)}}),e.jsx("h3",{className:"report-head",style:{marginTop:"0"},children:"신고 사유를 선택해 주세요."}),e.jsx("label",{htmlFor:"selectbar",children:"신고사유"}),e.jsxs("select",{id:"selectbar",onChange:N=>{i(N.target.value)},value:r,children:[e.jsx("option",{value:1,children:"폭력/욕설"}),e.jsx("option",{value:2,children:"광고물"}),e.jsx("option",{value:3,children:"선정적인 게시물"}),e.jsx("option",{value:4,children:"게시판 성격과 무관한 게시물"})]}),e.jsx("button",{onClick:E,className:"reportBtn",children:"신고"}),e.jsx("li",{className:"report-alert",children:"허위 신고 시 본인도 불이익을 받을 수 있습니다."})]})})]})}const rt={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},content:{width:"400px",height:"180px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"auto",top:"42vh",left:"38vw",right:"38vw",bottom:"42vh",WebkitOverflowScrolling:"touch",borderRadius:"14px",outline:"none",zIndex:10}};function it(t){const n=s.useContext(J);console.log(n.userId),console.log(n.auth);const l=t.boardData,o=t.boardKind;console.log(t);const a=K(),[d,r]=s.useState(),[i,c]=s.useState(1),u=(i-1)*10,h=u+10,m=l.slice(u,h),x=b=>{c(b)},j=()=>{console.log("noticepage",d),t.searchBoards(d)},A=b=>{b.key==="Enter"&&j()},p=()=>{if(console.log(t.userInfo.userId),n.userId==null){alert("로그인 이후 이용 가능한 기능입니다.");return}a("/board/input",{state:{boardKind:o,formKind:"write"}})};return e.jsxs("div",{children:[e.jsxs("div",{className:"search-box",children:[e.jsx("input",{placeholder:"검색어를 입력해주세요",type:"text",onChange:b=>{r(b.target.value),console.log(d)},onKeyPress:A}),e.jsx("button",{onClick:j,id:"searchBtn",children:"검색"}),e.jsx("label",{htmlFor:"searchBtn",className:"searchBtn",children:e.jsx($e,{className:"searchIcon"})})]}),e.jsxs("table",{className:"board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-head",children:"게시글번호"}),e.jsx("th",{className:"table-head",children:"제목"}),e.jsx("th",{className:"table-head",children:"등록일"})]})}),e.jsx("tbody",{children:m.map((b,I)=>e.jsxs("tr",{children:[e.jsx("td",{className:"table-no",children:b.id}),e.jsx("td",{className:"table-title",onClick:()=>{a(`/board/detail/${b.id}`)},children:b.title}),e.jsx("td",{className:"table-date",children:b.createAt2})]},b.id))})]}),e.jsx(xe,{activePage:i,itemsCountPerPage:10,totalItemsCount:l.length,pageRangeDisplayed:5,firstPageText:e.jsx(Fe,{}),prevPageText:e.jsx(qe,{}),lastPageText:e.jsx(Ve,{}),nextPageText:e.jsx(Ke,{}),onChange:x}),n.auth==="ROLE_ADMIN"||n.auth==="ROLE_USER"&&(o==="3"||o==="4")?e.jsx("div",{className:"board-write-btn",children:e.jsx("button",{onClick:p,children:"글쓰기"})}):null]})}function dt(){const t=s.useContext(J);console.log(t),K();const n=ue(),[l,o]=s.useState("1"),[a,d]=s.useState([]);s.useEffect(()=>{async function i(){try{const c=await fetch("/api/boards");if(!c.ok)throw new Error("게시판 정보를 가져오지 못햇습니다.");const u=await c.json();console.log(u);const h=u.filter(m=>m.flg===l);d(h)}catch(c){console.error(c)}}i()},[l]);const r=async i=>{console.log("keyword",i),console.log("boardKind",l);let c;i==null?c={title:null,flg:l}:c={title:i,flg:l},fetch("/api/boards/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(u=>u.json()).then(u=>{console.log(u),d(u)}).catch(u=>{console.log(u)})};return s.useEffect(()=>{n.state&&o(n.state.boardKind)},[n.state]),e.jsx("div",{children:e.jsx("div",{className:"boardContainer",children:e.jsxs("div",{className:"board-nav",children:[e.jsx("h1",{children:l=="1"?"공지사항":l=="2"?"소식공유":l=="3"?"자유게시판":l=="4"?"봉사후기":"알수없음"}),e.jsxs("div",{className:"board-button",children:[e.jsx("button",{onClick:()=>{o("1")},style:l==="1"?{color:"#546d01"}:null,children:"공지사항"}),e.jsx("button",{onClick:()=>{o("2")},style:l==="2"?{color:"#546d01"}:null,children:"소식공유"}),e.jsx("button",{onClick:()=>{o("3")},style:l==="3"?{color:"#546d01"}:null,children:"자유게시판"}),e.jsx("button",{onClick:()=>{o("4")},style:l==="4"?{color:"#546d01"}:null,children:"봉사후기"})]}),e.jsx(it,{boardData:a,searchBoards:r,userInfo:t,boardKind:l})]})})})}function ht(){K();const[t,n]=s.useState(""),[l,o]=s.useState(""),[a,d]=s.useState(""),r=h=>{n(h.target.value),d("")},i=h=>{o(h.target.value),d("")},c=()=>{if(console.log("click login"),console.log("Email : ",t),console.log("Password : ",l),t===""){d("이메일을 입력해주세요.");return}else if(l===""){d("비밀번호를 입력해주세요.");return}else ee.post("api/login",{email:t,password:l}).then(h=>{console.log(h),console.log("res.data.email ::",h.data.email),console.log("res.data.msg ::",h.data.msg),console.log("res.data.nickname ::",h.data.nickname),console.log("토큰 정보:",h.data.refreshToken),console.log("로그인 성공"),console.log(localStorage),localStorage.setItem("email",t),localStorage.setItem("nickname",h.data.nickname),localStorage.setItem("accessToken",h.data.accessToken),localStorage.setItem("refreshToken",h.data.refreshToken),localStorage.setItem("tokenExpiresIn",h.data.tokenExpiresIn),alert("로그인 성공"),document.location.href="/"}).catch(h=>{console.error("로그인 중 에러 발생.",h),console.error(h.response.data),h.response.data=="로그인 실패"&&alert("입력하신 이메일과 비밀번호를 확인해주세요."),h.response.data=="차단계정"&&alert("차단된 계정입니다.")})},u=h=>{h.key==="Enter"&&c()};return e.jsx(e.Fragment,{children:e.jsx("form",{className:"login-form",children:e.jsxs("div",{className:"login-box",children:[e.jsx("img",{className:"logo-size",src:"/images/logo.png",alt:"로고이미지"}),e.jsx("input",{type:"email",value:t,onChange:r,name:"email",className:"login-textbox",placeholder:"이메일을 입력해 주세요"}),e.jsx("input",{type:"password",value:l,onChange:i,onKeyPress:u,name:"password",className:"login-textbox",placeholder:"비밀번호를 입력해 주세요"}),a&&e.jsx("p",{className:"login-error-message",children:a}),e.jsx("button",{className:"login-button",type:"button",onClick:c,children:"로그인"}),e.jsx("a",{href:"http://localhost:9090/oauth2/authorization/google",className:"social-button",id:"google-connect",children:e.jsx("div",{className:"social-button"})}),e.jsxs("div",{className:"page-change-box",children:[e.jsxs("span",{children:[e.jsx(B,{to:"/signup",className:"page-change",children:"회원가입"})," | "]}),e.jsxs("span",{children:[e.jsx(B,{to:"/finduser",className:"page-change",children:"아이디 찾기"})," | "]}),e.jsx("span",{children:e.jsx(B,{to:"/finduser",className:"page-change",children:"비밀번호 찾기"})})]})]})})})}function Te(){const t=ue(),[n,l]=s.useState(0),o=a=>{l(a),localStorage.setItem("activeTab",a)};return s.useEffect(()=>{const a=localStorage.getItem("activeTab");a!==null&&l(Number(a)),t.pathname==="/mypage"?l(0):t.pathname==="/myVolunteer"?l(1):t.pathname==="/volunteerSpec"?l(2):t.pathname==="/volunteerReview"&&l(3)},[t.pathname]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"volunteer-header-container",children:e.jsxs("ul",{className:"volunteer-tab",children:[e.jsx("li",{children:e.jsx(B,{to:"/mypage",className:n===0?"selected":"",onClick:()=>o(0),children:"회원정보"})}),e.jsx("li",{children:e.jsx(B,{to:"/myVolunteer",className:n===1?"selected":"",onClick:()=>o(1),children:"봉사신청내역"})}),e.jsx("li",{children:e.jsx(B,{to:"/volunteerSpec",className:n===2?"selected":"",onClick:()=>o(2),children:"봉사완료내역"})}),e.jsx("li",{children:e.jsx(B,{to:"/volunteerReview",className:n===3?"selected":"",onClick:()=>o(3),children:"내가작성한글"})})]})})})}function mt(){const[t,n]=s.useState({});async function l(){if(!localStorage.getItem("accessToken")){alert("로그인을 해주세요."),o("/login");return}fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(d=>d.json()).then(d=>{n(d),console.log(d),console.log(localStorage)}).catch(d=>{console.error(d)})}s.useEffect(()=>{l()},[]);const o=K(),a=d=>{d.preventDefault(),fetch("/api/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email})}).then(r=>{r.ok?(console.log("서버 응답:",r),alert("인증링크를 이메일로 발송하였습니다.")):alert("일치하는 계정을 찾을 수 없습니다.")})};return e.jsxs(e.Fragment,{children:[e.jsx(Te,{}),e.jsx("form",{className:"mypage-form",children:e.jsxs("div",{className:"myPage-Container",children:[e.jsx("div",{className:"myPage-category",children:"이름"}),e.jsx("div",{className:"myPage-textBox",children:t.name}),e.jsx("div",{className:"myPage-category",children:"이메일"}),e.jsxs("div",{className:"myPage-textBox",children:[t.email,t.emailVerify=="N"?e.jsx("button",{type:"button",className:"emailAuth",onClick:a,children:"이메일 인증"}):e.jsx("span",{className:"emailAuth2",children:"인증완료"})]}),e.jsx("div",{className:"myPage-category",children:"닉네임"}),e.jsx("div",{className:"myPage-textBox",children:t.nickname}),e.jsx("div",{className:"myPage-category",children:"전화번호"}),e.jsx("div",{className:"myPage-textBox",children:t.phone}),e.jsx("div",{className:"myPage-category",children:"주소"}),e.jsx("div",{className:"myPage-textBox",children:t.address}),e.jsxs("div",{className:"buttonBox",children:[e.jsx(B,{to:"/PasswordConfirm",children:e.jsx("button",{type:"button",className:"myPage-password-btn",children:"비밀번호 변경"})}),e.jsx("div",{className:"myPage-btn-div",children:e.jsx(B,{to:"/MypageModify",children:e.jsx("button",{className:"myPage-btn",children:"정보수정하기"})})})]})]})})]})}function ut(){const[t,n]=s.useState(!1),[l,o]=s.useState(""),[a,d]=s.useState(""),r=q=>{o(q.roadAddress),n(!1)},i=()=>{n(!t)},c=()=>{setAddress(""),n(!t)},u=K(),[h,m]=s.useState({email:"",phone:"",nickname:"",address:"",detailAddress:""});async function x(){fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(q=>q.json()).then(q=>{m(q),console.log(q),console.log(localStorage)}).catch(q=>{console.error(q)})}s.useEffect(()=>{x()},[]);const[j,A]=s.useState(!1),[p,b]=s.useState(""),I=q=>/^\d{2,3}-\d{3,4}-\d{4}$/.test(q),R=q=>{const V=q.replace(/\D/g,"").match(/^(\d{1,3})(\d{0,4})(\d{0,4})$/);return V?V[2]?`${V[1]}-${V[2]}`+(V[3]?`-${V[3]}`:""):V[1]:q},S=q=>{const{name:U,value:V}=q.target;if(U==="address"?o(V):U==="detailAddress"&&d(V),U==="phone"){A(!0);const G=I(V);b(G);const te=R(V);m(ce=>({...ce,[U]:te}))}else m(G=>({...G,[U]:V}))},v=async q=>{q.preventDefault();try{const U=l||h.address,V=a?`${U} ${a}`:U,G={...h,address:V.trim(),detailAddress:""};(await ee.put("/api/user/update",G,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}})).status===500?alert("수정에 실패하였습니다."):p===!1?alert("전화번호 입력을 확인해 주세요"):(alert("수정이 완료되었습니다."),u("/MyPage"))}catch(U){console.error("사용자 정보 업데이트 중 에러:",U),alert("이메일과 닉네임 중복확인을 해주세요!!")}},[f,y]=s.useState(""),[C,D]=s.useState(!1),[H,w]=s.useState(!1),T=async()=>{try{(await ee.get(`/api/check-email/${h.email}`)).data.isEmailAvailable?(D(!0),alert("사용 가능한 이메일입니다."),y("사용 가능한 이메일입니다"),w(!0)):(D(!1),alert("이미 사용 중인 이메일입니다."),y("이미 사용 중인 이메일입니다"))}catch(q){console.error("이메일 중복 확인 중 에러:",q)}console.log(H)},[P,F]=s.useState(!1),[_,z]=s.useState(!1),[X,W]=s.useState(""),se=async()=>{try{(await ee.get(`/api/check-nickname/${h.nickname}`)).data.isAvailable?(z(!0),alert("사용 가능한 닉네임입니다."),W("사용 가능한 닉네임입니다"),F(!0)):(z(!1),alert("이미 사용 중인 닉네임입니다."),W("이미 사용 중인 닉네임입니다"))}catch(q){console.error("닉네임 중복 확인 중 에러:",q)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"회원정보 수정"})}),e.jsxs("form",{className:"modify-form",children:[e.jsx("div",{className:"modify-head-bottom"}),e.jsxs("div",{className:"modify-Container",children:[e.jsx("div",{className:"modify-category",children:"이름"}),e.jsx("div",{className:"modify-textBox",children:h.name}),e.jsx("div",{className:"modify-category",children:"이메일"}),e.jsxs("div",{className:"modify-textCheck",children:[e.jsx("input",{type:"text",name:"email",value:h.email,onChange:S,className:`modify-check ${!H&&"invalid-input"}`}),e.jsx("div",{className:`message ${C?"modifySuccess":"modifyError"}`,children:f})]}),e.jsx("button",{type:"button",className:"modifyCheck-btn",onClick:T,children:"중복확인"}),e.jsx("div",{className:"modify-category",children:"닉네임"}),e.jsxs("div",{className:"modify-textCheck",children:[e.jsx("input",{type:"text",className:"modify-check",value:h.nickname,name:"nickname",onChange:S}),e.jsx("div",{className:`message ${_?"modifySuccess":"modifyError"}`,children:X})]}),e.jsx("button",{type:"button",className:"modifyCheck-btn",onClick:se,children:"중복확인"}),e.jsx("div",{className:"modify-category",children:"전화번호"}),e.jsxs("div",{className:"modify-textCheck",children:[e.jsx("input",{type:"text",className:`modify-check ${j&&!p&&"invalid-input"}`,value:h.phone,name:"phone",onChange:S}),j&&h.phone!==""&&!p&&e.jsx("div",{className:"invalid-message",children:"유효한 전화번호 형식이 아닙니다"})]}),e.jsx("div",{className:"modify-category",children:"주소"}),e.jsxs("div",{className:"modify-textCheck",children:[e.jsx("input",{type:"text",className:"modify-check",value:l||h.address,name:"address",onChange:S}),e.jsx("div",{className:"address-detail",children:e.jsx("input",{type:"text",onChange:S,value:a||h.detailAddress,name:"detailAddress",title:"detailAddress",className:"modify-check",placeholder:"상세주소를 입력해 주세요"})}),e.jsxs(me,{isOpen:t,ariaHideApp:!1,className:"address-modal",children:[e.jsx(ss,{onComplete:r}),e.jsx("button",{className:"modal-close",onClick:c,children:"닫기"})]})]}),e.jsx("button",{type:"button",className:"modifyCheck-btn",onClick:i,children:"검색"}),e.jsxs("div",{className:"modifyBtns",children:[e.jsx(B,{to:"/Mypage",children:e.jsx("button",{className:"modify-btn",children:"취소"})}),e.jsx("button",{type:"submit",onClick:v,className:"modify-btn",children:"수정하기"})]})]})]})]})}function xt({qnaData:t,searchQna:n,qnaKind:l}){const o=K(),a=s.useContext(J);console.log(a.userId),console.log(a.auth);const[d,r]=s.useState(),[i,c]=s.useState(1),u=(i-1)*10,h=u+10,m=t.slice(u,h),x=I=>{c(I)},j=I=>{o(`/qna/detail/${I}`,{state:{boardKind:"2"}})},A=()=>{console.log(d),n(d)},p=I=>{I.key==="Enter"&&A()},b=()=>{if(a.userId==null){alert("로그인 이후 이용 가능한 기능입니다.");return}o("/qna/input",{state:{boardKind:"2",formKind:"write"}})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"search-box",children:[e.jsx("input",{placeholder:"검색어를 입력해주세요",type:"text",onChange:I=>{r(I.target.value),console.log(d)},onKeyPress:p}),e.jsx("button",{onClick:A,id:"searchBtn",children:"검색"}),e.jsx("label",{htmlFor:"searchBtn",className:"searchBtn",children:e.jsx($e,{className:"searchIcon"})})]}),e.jsxs("table",{className:"qna-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"qna-head",children:"번호"}),e.jsx("th",{className:"qna-head",children:"제목"}),e.jsx("th",{className:"qna-head",children:"등록일"})]})}),e.jsx("tbody",{children:m.map((I,R)=>e.jsxs("tr",{children:[e.jsx("td",{className:"table-no",children:R+1}),e.jsx("td",{className:"table-title",children:e.jsx("span",{onClick:()=>j(I.id),children:I.title})}),e.jsx("td",{className:"table-date",children:I.createAt2})]},I.id))})]}),e.jsx(xe,{activePage:i,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:e.jsx(Fe,{}),prevPageText:e.jsx(qe,{}),lastPageText:e.jsx(Ve,{}),nextPageText:e.jsx(Ke,{}),onChange:x}),e.jsx("div",{className:"qna-write-btn",children:e.jsx("button",{onClick:b,children:"글쓰기"})})]})}function jt({qnaData:t,searchQna:n}){const l=K(),o=s.useContext(J);console.log(o.userId),console.log(o.auth);const[a,d]=s.useState(),[r,i]=s.useState(1),c=(r-1)*10,u=c+10,h=t.slice(c,u),m=p=>{i(p)},x=p=>{l(`/qna/detail/${p}`,{state:{boardKind:"1"}})},j=()=>{console.log(a),n(a)},A=p=>{p.key==="Enter"&&j()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"search-box",children:[e.jsx("input",{placeholder:"검색어를 입력해주세요",type:"text",onChange:p=>{d(p.target.value),console.log(a)},onKeyPress:A}),e.jsx("button",{onClick:j,id:"searchBtn",children:"검색"}),e.jsx("label",{htmlFor:"searchBtn",className:"searchBtn",children:e.jsx($e,{className:"searchIcon"})})]}),e.jsxs("table",{className:"qna-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"qna-head",children:"번호"}),e.jsx("th",{className:"qna-head",children:"제목"}),e.jsx("th",{className:"qna-head",children:"등록일"})]})}),e.jsx("tbody",{children:h.map((p,b)=>e.jsxs("tr",{children:[e.jsx("td",{className:"table-no",children:b+1}),e.jsx("td",{className:"table-title",children:e.jsx("span",{onClick:()=>x(p.id),children:p.title})}),e.jsx("td",{className:"table-date",children:p.createAt2})]},p.id))})]}),e.jsx(xe,{activePage:r,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:e.jsx(Fe,{}),prevPageText:e.jsx(qe,{}),lastPageText:e.jsx(Ve,{}),nextPageText:e.jsx(Ke,{}),onChange:m}),e.jsx("div",{children:o.auth=="ROLE_ADMIN"&&e.jsx("button",{onClick:()=>{l("/qna/input",{state:{boardKind:"1",formKind:"write"}})},children:"글쓰기"})})]})}function gt(){const t=K(),n=s.useContext(J);console.log(n.userId),console.log(n.auth);const[l,o]=s.useState("1"),[a,d]=s.useState([]);console.log("qnaKind",l);async function r(){await fetch("/api/qna").then(c=>c.json()).then(c=>{console.log(c);const u=c.filter(h=>h.flg===l);d(u)})}s.useEffect(()=>{console.log(l),r()},[l]);const i=async c=>{console.log("keyword",c),console.log("qnaKind",l);let u;c==null?u={title:null,flg:l}:u={title:c,flg:l},fetch("/api/qna/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(h=>h.json()).then(h=>{console.log(h),d(h)}).catch(h=>{console.log(h)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"qnaContainer",children:[e.jsx("div",{className:"qna-nav",children:e.jsx("h1",{children:"QnA"})}),e.jsx("div",{className:"qna-notice",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("b",{children:"개인정보보호법 시행에 따라 개인정보가 포함된 글을 등록할 수 없으며, 이를 위반 시 동법 벌칙 규정에 따라 불이익을 받을 수 있으니 게시물 작성 시 주의하시기 바랍니다."})}),e.jsx("li",{children:"이곳은 자원봉사자의 궁금한 사항을 문의를 하는 곳 입니다.글쓰기 전에 먼저 자주하는질문을 보시면 빠르게 확인하실 수 있습니다."}),e.jsx("li",{children:"자원봉사 질문과답변에 관련없거나 목적에 맞지 않는 내용의 게시물은 익일 예고 없이 삭제되니 이점 양지하시길 바랍니다."})]})}),e.jsxs("div",{className:"qna-tab",children:[e.jsx("button",{className:"qna-button",onClick:()=>{t(""),o("1")},style:l==="1"?{color:"#546d01"}:null,children:"FAQ"}),e.jsx("button",{className:"qna-button",onClick:()=>{t("qna"),o("2")},style:l==="2"?{color:"#546d01"}:null,children:"QnA"})]}),e.jsxs(ve,{children:[e.jsx($,{path:"",element:e.jsx(jt,{qnaData:a,searchQna:i,qnaKind:l})}),e.jsx($,{path:"qna",element:e.jsx(xt,{qnaData:a,searchQna:i})})]})]})})}const pt=()=>{const[t,n]=s.useState(""),[l,o]=s.useState(""),[a,d]=s.useState(""),[r,i]=s.useState(!1),c=k=>{n(k.zonecode),o(k.roadAddress),i(!1)},u=()=>{i(!r)},h=()=>{i(!r)},[m,x]=s.useState(!1),j=async()=>{try{(await ee.get(`/api/check-nickname/${G}`)).data.isAvailable?(x(!0),re("사용 가능한 닉네임입니다.")):(x(!1),re("이미 사용 중인 닉네임입니다."))}catch(k){console.error("닉네임 중복 확인 중 에러:",k)}},A=s.useCallback(k=>{const M=k.target.value;te(M),x(!1),M.length<2||M.length>8?re("2글자 이상 8글자 미만으로 입력해주세요."):M.replace(he,"")===""?re("공백만 입력되었습니다."):fe.test(M)?re("공백이 입력되었습니다."):Ie.test(M)?re("특수문자가 입력되었습니다."):re("중복확인 해주세요")},[]),[p,b]=s.useState(!1),I=async()=>{try{(await ee.get(`/api/check-email/${_}`)).data.isEmailAvailable?(b(!0),le("사용 가능한 이메일입니다.")):(b(!1),le("이미 사용 중인 이메일입니다."))}catch(k){console.error("이메일 중복 확인 중 에러:",k)}},R=s.useCallback(k=>{const M=k.target.value;z(M),M.length<10||M.length>30?(le("올바른 이메일 형식이 아닙니다."),b(!1)):M.replace(he,"")===""?(le("공백만 입력되었습니다."),b(!1)):fe.test(M)?(le("공백이 입력되었습니다."),b(!1)):M.trim()===""?(le("이메일을 입력해주세요."),b(!1)):p?(le(""),b(!0)):(le("중복확인을 해주세요"),b(!1))},[p]),[S,v]=s.useState(""),f=k=>{const M=new Date,ae=new Date(k.substring(0,4),k.substring(4,6)-1,k.substring(6,8));let ne=M.getFullYear()-ae.getFullYear();const Ye=M.getMonth()-ae.getMonth();return(Ye<0||Ye===0&&M.getDate()<ae.getDate())&&(ne-=1),ne.toString()},[y,C]=s.useState(""),[D,H]=s.useState("M"),[w,T]=s.useState(""),[P,F]=s.useState(""),[_,z]=s.useState(""),[X,W]=s.useState(""),[se,q]=s.useState({type:"password",visible:!1}),[U,V]=s.useState(""),[G,te]=s.useState(""),[ce,g]=s.useState(""),[E,N]=s.useState(""),[O,L]=s.useState(""),[ye,De]=s.useState(""),[ts,je]=s.useState(""),[as,le]=s.useState(""),[ns,ge]=s.useState(""),[ls,Pe]=s.useState(""),[os,re]=s.useState(""),[Ce,pe]=s.useState(!1),[Me,ie]=s.useState(!1),[Re,de]=s.useState(!1),[Je,Se]=s.useState(!1),[_e,na]=s.useState(!1),[Oe,ke]=s.useState(!1),[Ae,Le]=s.useState(!1);s.useState(!1);const he=/^\s+|\s+$/g,fe=/[\s]/g,Ie=/[`~!@#$%^&*|\\\'\";:\/?]/gi,cs=/^[0-9]+$/,rs=K(),is=s.useCallback(k=>{const M=k.target.value;C(M),k.target.value.length<2||k.target.value.length>6?(g("2글자 이상 6글자 미만으로 입력해주세요."),pe(!1)):k.target.value.replace(he,"")==""?(g("공백만 입력되었습니다."),pe(!1)):fe.test(k.target.value)==!0?(g("공백이 입력되었습니다."),pe(!1)):Ie.test(k.target.value)==!0?(g("특수문자가 입력되었습니다."),pe(!1)):M.trim()===""?(g("이름을 입력해주세요."),pe(!1)):(g("올바른 이름 형식입니다."),pe(!0)),console.log(Ce)},[]),ds=s.useCallback(k=>{const M=k.target.value;v(M),new Date().getFullYear();const ae=1930;M.length!==8||!/^\d+$/.test(M)?(N("올바른 형식으로 입력해주세요."),ie(!1)):Number(M.substring(0,4))<ae?(N("1930년 이후의 생년월일을 입력해주세요."),ie(!1)):k.target.value.replace(he,"")==""?(N("공백만 입력되었습니다."),ie(!1)):fe.test(k.target.value)==!0?(N("공백이 입력되었습니다."),ie(!1)):Ie.test(k.target.value)==!0?(N("특수문자가 입력되었습니다."),ie(!1)):M.trim()===""?(N("생년월일을 입력해주세요."),ie(!1)):/^(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])$/.test(M.substring(4))?(N("올바른 생년월일 형식입니다."),ie(!0)):(N("올바른 생년월일 형식으로 입력해주세요."),ie(!1))},[]),hs=s.useCallback(k=>{const M=k.target.value,ne=M.replace(/\D/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3");F(ne),console.log(k.target.value),k.target.value.length<11||k.target.value.length>11?(L("올바른 전화번호 형식이 아닙니다."),de(!1)):k.target.value.replace(he,"")==""?(L("공백만 입력되었습니다."),de(!1)):fe.test(k.target.value)==!0?(L("공백이 입력되었습니다."),de(!1)):Ie.test(k.target.value)==!0?(L("특수문자가 입력되었습니다."),de(!1)):cs.test(k.target.value)?M.trim()===""||ne.length!==13?(L("올바른 전화번호 형식이 아닙니다."),de(!1)):(L("올바른 전화번호 형식입니다."),de(!0)):(L("숫자만 입력가능합니다."),de(!1))},[]),ms=s.useCallback(k=>{const M=k.target.value;je(M),d(k.target.value),k.target.value.length===0||k.target.value.length>30?(De("올바른 주소 형식이 아닙니다."),Se(!1)):k.target.value.replace(he,"")==""?(je("공백만 입력되었습니다."),Se(!1)):Ie.test(k.target.value)==!0?(je("특수문자가 입력되었습니다."),Se(!1)):M.trim()===""?(je("주소를 입력해주세요."),Se(!1)):(je("올바른 주소 형식입니다."),Se(!0))},[]),us=s.useCallback(k=>{const M=k.target.value;W(M);const ae=/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/,ne=k.target.value;W(ne),ae.test(ne)?k.target.value.replace(he,"")==""?(ge("공백만 입력되었습니다."),ke(!1)):fe.test(k.target.value)==!0?(ge("공백이 입력되었습니다."),ke(!1)):M.trim()===""?(ge("비밀번호를 입력해주세요."),ke(!1)):(ge("올바른 비밀번호 입니다."),ke(!0)):(ge("숫자+영문자+특수문자 조합으로 8자리 이상 입력해주세요."),ke(!1))},[]),xs=s.useCallback(k=>{const M=k.target.value;V(M),X!==M?(Pe("비밀번호가 불일치합니다. 다시 입력해주세요."),Le(!1)):M.trim()===""?(Pe("비밀번호 확인을 해주세요."),Le(!1)):(Pe("비밀번호가 일치합니다."),Le(!0))},[X]),js=s.useCallback(async k=>{if(k.preventDefault(),Ce===!1){g("이름을 확인해주세요.");return}if(Me===!1){N("생년월일을 확인해주세요.");return}if(Re===!1){L("전화번호를 확인해주세요.");return}if(!a){je("주소를 확인해주세요.");return}if(p===!1){le("이메일을 확인해주세요.");return}if(Oe===!1){ge("비밀번호를 확인해주세요.");return}if(U||Pe("비밀번호 일치확인을 해주세요."),m===!1){re("닉네임을 확인해주세요.");return}try{const M=a?`${l} ${a}`:l,ae=f(S);await ee.post("api/signup",{phone:P,address:M,detailAddress:a,gender:D,name:y,age:ae,password:X,nickname:G,email:_},{headers:{"Content-Type":"application/json"}}).then(ne=>{alert("회원가입이 완료되었습니다."),console.log("response:",ne),rs("/login")})}catch(M){console.error(M)}},[y,w,D,P,l,a,X,G,_,Ce,m,_e,Je]);console.log(Ae),console.log(m),console.log(),console.log(Ae);const gs=k=>{q(()=>se.visible?{type:"password",visible:!1}:{type:"text",visible:!0})},We=k=>{H(k),console.log(D)};return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("div",{className:"signup-text",children:"회원가입"}),e.jsxs("form",{className:"signup-form",onSubmit:js,children:[e.jsx("table",{className:"signup-table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"signup-name",children:[e.jsx("td",{className:"category-name",children:"이름"}),e.jsxs("td",{children:[e.jsx("input",{type:"text",className:`category-box ${!Ce&&"invalid-input"}`,placeholder:"이름을 입력해 주세요",name:"name",onChange:is,title:"name"}),e.jsx("div",{className:`message ${Ce?y.length>0?"success":"":"error"}`,children:ce})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"성별"}),e.jsx("td",{children:e.jsxs("div",{className:"gender-group",children:[e.jsxs("label",{className:`gender-button ${D==="M"?"selected":""}`,children:[e.jsx("input",{type:"radio",name:"gender",value:"M",title:"gender",checked:D==="checked",onChange:()=>We("M")}),"남"]}),e.jsxs("label",{className:`gender-button ${D==="F"?"selected":""}`,children:[e.jsx("input",{type:"radio",name:"gender",value:"F",title:"gender",checked:D==="F",onChange:()=>We("F")}),"여"]})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"생년월일"}),e.jsxs("td",{children:[e.jsx("input",{type:"tel",className:`age-box ${!Me&&"invalid-input"}`,placeholder:"생년월일을 입력해 주세요 ex) 19870105",name:"age",onChange:ds,title:"age"}),e.jsx("div",{className:`message ${Me?w.length<8?"success":"":"error"}`,children:E})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"전화번호"}),e.jsxs("td",{children:[e.jsx("input",{type:"tel",className:`number-input ${!Re&&"invalid-input"}`,name:"phone",title:"phone",value:P,onChange:hs,placeholder:"전화번호를 입력해 주세요"}),e.jsx("div",{className:`message ${Re?P.length>0?"success":"":"error"}`,children:O})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"주소"}),e.jsxs("td",{children:[e.jsx("input",{type:"text",value:t,readOnly:!0,className:"category-address",placeholder:"우편번호"}),e.jsx("button",{className:"search-btn",onClick:u,children:"검색"}),e.jsx("br",{}),e.jsx("input",{type:"text",defaultValue:l,className:"category-address2",placeholder:"주소를 입력해 주세요",name:"address",title:"address"}),e.jsx("input",{type:"text",onChange:ms,value:a,name:"address",title:"address",className:`category-address2 ${!Je&&"invalid-input"}`,placeholder:"상세주소를 입력해 주세요"}),e.jsx("div",{className:`message ${a?a.length>0?"success":"":"error"}`,children:ts}),e.jsxs(me,{isOpen:r,ariaHideApp:!1,className:"address-modal",children:[e.jsx(ss,{onComplete:c}),e.jsx("button",{className:"modal-close",onClick:h,children:"닫기"})]})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"이메일"}),e.jsxs("td",{children:[e.jsx("input",{type:"email",className:`email-box ${!_e&&"invalid-input"}`,placeholder:"이메일을 입력해 주세요",name:"email",title:"email",value:_,onChange:R}),e.jsx("button",{type:"button",className:"check-btn",onClick:I,children:"중복확인"}),e.jsx("div",{className:`message ${p?"success":"error"}`,children:as})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"비밀번호"}),e.jsxs("td",{children:[e.jsx("input",{type:se.type,placeholder:"비밀번호를 입력해 주세요",className:`category-box ${!Oe&&"invalid-input"}`,onChange:us,name:"password",title:"password"}),e.jsx("span",{className:"PwShowBtn",onClick:gs,children:se.visible?"비밀번호 숨기기":"비밀번호 보기"}),e.jsx("div",{className:`message ${Oe?X.length>0?"success":"":"error"}`,children:ns})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name",children:"비밀번호 확인"}),e.jsxs("td",{children:[e.jsx("input",{type:se.type,placeholder:"비밀번호를 입력해 주세요",className:`category-box ${!Ae&&"invalid-input"}`,onChange:xs,title:"passwordConfirm"}),e.jsx("div",{className:`message ${Ae?U.length>0?"success":"":"error"}`,children:ls})]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"category-name signup-td ",children:"닉네임"}),e.jsxs("td",{className:"signup-td",children:[e.jsx("input",{type:"text",placeholder:"닉네임을 입력해 주세요",className:`category-box ${!m&&"invalid-input"}`,name:"nickname",title:"nickName",onChange:A}),e.jsx("button",{type:"button",className:"check-btn",onClick:j,children:"중복확인"}),e.jsx("div",{className:`message ${m?"success":"error"}`,children:os})]})]})]})}),e.jsx("div",{className:"signup-btn",children:e.jsxs("button",{type:"submit",onClick:k=>{console.log("Button clicked")},children:[" ","회원가입"," "]})})]})]})})};function ft({params:t,setParams:n}){const[l,o]=s.useState([]),[a,d]=s.useState([]),r=c=>{n({...t,schSido:c.target.value})},i=c=>{n({...t,schSign1:c.target.value})};return s.useEffect(()=>{(async()=>(await fetch("/api/region",{method:"GET",headers:{"Content-Type":"application/json"}})).json())().then(u=>{const h=new Map,m=new Array;u.map(x=>{h.set(x.city,x.cityCode),m.push([x.cityCode,x.district,x.districtCode])}),o([...h]),d(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:t.schSido,onChange:r,children:[e.jsx("option",{value:"",disabled:!0,children:"시/도"}),l.map(c=>e.jsx("option",{value:c[1],children:c[0]},c[0]))]}),e.jsxs("select",{value:t.schSign1,onChange:i,children:[e.jsx("option",{value:"",disabled:!0,children:"시/군/구"}),a.map(c=>c[0]==t.schSido&&e.jsx("option",{value:c[2],children:c[1]},c[1]))]})]})}function Nt({params:t,setParams:n}){const[l,o]=s.useState([]),[a,d]=s.useState([]),r=c=>{n({...t,schupperClCode:c.target.value})},i=c=>{n({...t,schnanmClCode:c.target.value})};return s.useEffect(()=>{(async()=>(await fetch("/api/volunteer",{method:"GET",headers:{"Content-Type":"application/json"}})).json())().then(u=>{const h=new Map,m=new Array;u.map(x=>{h.set(x.large,x.largeCode),m.push([x.largeCode,x.small,x.smallCode])}),o([...h]),d(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:t.schupperClCode,onChange:r,children:[e.jsx("option",{value:"",disabled:!0,children:"상위분야코드"}),l.map(c=>e.jsx("option",{value:c[1],children:c[0]},c[0]))]}),e.jsxs("select",{value:t.schnanmClCode,onChange:i,children:["HY",e.jsx("option",{value:"",disabled:!0,children:"분야코드"}),a.map(c=>c[0]==t.schupperClCode&&e.jsx("option",{value:c[2],children:c[1]},c[1]))]})]})}Os("ko",we);function bt({params:t,setParams:n}){const[l,o]=s.useState([new Date,new Date]),[a,d]=l;return s.useEffect(()=>{n({...t,schprogrmBgnde:Y(new Date(a),"yyyyMMdd"),progrmEndde:Y(new Date(d),"yyyyMMdd")})},[l,d,a]),e.jsx(Ls,{selectsRange:!0,startDate:a,endDate:d,locale:"ko",onChange:r=>{o(r)},isClearable:!0})}function vt({params:t,setParams:n,setData:l,setCount:o,setPage:a,setMoreData:d,onCheck:r,handleCheck:i}){const[c,u]=s.useState(!0);function h(){u(!c)}function m(){t.adultPosblAt==="Y"?n({...t,adultPosblAt:""}):n({...t,adultPosblAt:"Y"})}function x(){t.yngbgsPosblAt==="Y"?n({...t,yngbgsPosblAt:""}):n({...t,yngbgsPosblAt:"Y"})}const j=async()=>{await fetch("/api/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,pageNo:"1"})}).then(p=>p.json()).then(p=>{l(p.items.item),o(p.totalCount)}).catch(p=>{d(!1)})},A=()=>{n({numOfRows:"10",pageNo:"1",schCateGu:"all",keyword:"",schSido:"",schSign1:"",schupperClCode:"",schnanmClCode:"",schprogrmBgnde:"",progrmEndde:"",adultPosblAt:"",yngbgsPosblAt:""}),a(1)};return e.jsxs("div",{className:"searchBar",children:[e.jsx("div",{className:"searchHeader",children:e.jsxs("span",{onClick:h,children:[c?"검색목록 닫기":"검색목록 열기",e.jsx(Es,{className:`searchArrow ${c?"":"down"}`})]})}),e.jsx("div",{className:`searchContents ${c?"":"closed"}`,children:e.jsxs("div",{className:"table",children:[e.jsxs("div",{className:"tableTr",children:[e.jsx("div",{className:"trTitle",children:"봉사분야"}),e.jsx("div",{className:"tableTdField",children:e.jsx(Nt,{params:t,setParams:n})})]}),e.jsxs("div",{className:"tableTr",children:[e.jsx("div",{className:"trTitle",children:"지역"}),e.jsx("div",{className:"tableTd",children:e.jsx(ft,{params:t,setParams:n})}),e.jsx("div",{className:"trTitle",children:"연령제한"}),e.jsx("div",{className:"tableTd",children:e.jsxs("div",{className:"checkboxCustom",children:[e.jsx("input",{type:"checkbox",id:"adult"}),e.jsx("label",{htmlFor:"adult",onClick:m}),e.jsx("span",{children:"성인"}),e.jsx("input",{type:"checkbox",id:"student"}),e.jsx("label",{htmlFor:"student",onClick:x}),e.jsx("span",{children:"청소년"})]})})]}),e.jsxs("div",{className:"tableTr",children:[e.jsx("div",{className:"trTitle",children:"봉사기간"}),e.jsx("div",{className:"tableTd",children:e.jsx(bt,{params:t,setParams:n})})]}),e.jsxs("div",{className:"tableTr",children:[e.jsx("div",{className:"trTitle",children:"모집상태"}),e.jsxs("div",{className:"status",colSpan:"3",children:[e.jsx("input",{type:"checkbox",id:"statusWait",checked:r===1,readOnly:!0}),e.jsx("label",{htmlFor:"statusWait",onClick:()=>i(1),children:"모집대기"}),e.jsx("input",{type:"checkbox",id:"statusIng",checked:r===2,readOnly:!0}),e.jsx("label",{htmlFor:"statusIng",onClick:()=>i(2),children:"모집중"}),e.jsx("input",{type:"checkbox",id:"statusDone",checked:r===3,readOnly:!0}),e.jsx("label",{htmlFor:"statusDone",onClick:()=>i(3),children:"모집완료"})]})]}),e.jsxs("div",{className:"tableTr",children:[e.jsx("div",{className:"trTitle",children:"검색어"}),e.jsx("div",{className:"keyword",children:e.jsx("input",{type:"text",id:"keyword",placeholder:"검색어를 입력해주세요",value:t.keyword,onChange:p=>{n({...t,keyword:p.target.value})}})})]}),e.jsxs("div",{className:"btnBox",children:[e.jsx("button",{onClick:j,id:"btnSearch",children:"찾기"}),e.jsx("button",{onClick:A,id:"btnReset",children:"초기화"})]})]})})]})}function yt(t){function n(i){const c=i+"",u=c.substring(0,4),h=c.substring(4,6),m=c.substring(6,c.length);return new Date(u+"-"+h+"-"+m)}function l(i){const c=i+"",u=c.substring(0,4),h=c.substring(4,6),m=c.substring(6,c.length);return u+"-"+h+"-"+m}const o={progrmRegistNo:t.data.progrmRegistNo,progrmSttusSe:t.data.progrmSttusSe,title:t.data.progrmSj,organization:t.data.nanmmbyNm,recruit:l(t.data.noticeBgnde)+" ~ "+l(t.data.noticeEndde),period:l(t.data.progrmBgnde)+" ~ "+l(t.data.progrmEndde),category:t.data.srvcClCode},a=new Date,d=n(t.data.noticeEndde),r=$s(d,a);return e.jsxs("div",{className:"volunteerListBox",children:[e.jsx("div",{className:"listState",children:o.progrmSttusSe=="1"?"모집대기 ":o.progrmSttusSe=="2"?"모집중 ":"모집완료 "}),e.jsxs("div",{className:"listDetail1",children:[e.jsx(be,{className:"flowerIcon"}),e.jsx("span",{children:o.category})]}),e.jsx(B,{to:`/vdetail/${o.progrmRegistNo}`,state:{progrmRegistNo:o.progrmRegistNo},children:e.jsx("div",{className:"listTitle",children:o.title})}),e.jsxs("div",{className:"listDetail2",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"모집기관"})," : ",o.organization+"  "]}),e.jsxs("span",{children:[e.jsx("strong",{children:"봉사기간"})," : ",o.period]})]}),e.jsxs("div",{className:"listDate",children:[e.jsx("strong",{className:o.progrmSttusSe!="3"&&r>5?"listDateNum":"listDateNum end",children:o.progrmSttusSe=="3"?"마감":r>=0?r:"마감"}),o.progrmSttusSe=="3"?"":r>=0?"일후 마감":""]}),e.jsx(ve,{children:e.jsx($,{path:"/vdetail/",data:o.progrmRegistNo,element:e.jsx(Qe,{})})})]})}function Ct({data:t}){const[n,l]=s.useState([]),[o,a]=s.useState("");function d(i){a(i===o?"":i)}function r(i){const c=i+"",u=c.substring(0,4),h=c.substring(4,6),m=c.substring(6,c.length);return u+"-"+h+"-"+m}return s.useEffect(()=>{(async()=>(await fetch("/api/marker",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})})).json())().then(c=>{l(c)})},[t]),e.jsx(Js,{center:n.length>0?{lat:n[0].latlng.lat,lng:n[0].latlng.lng}:{lat:37.495506,lng:126.88829},className:"map",level:6,children:n.map((i,c)=>e.jsxs(e.Fragment,{children:[e.jsx(_s,{onClick:()=>d(c),position:i.latlng},`${i.title}-${i.latlng}`),o===c&&e.jsx(Ws,{position:i.latlng,children:e.jsx("div",{className:"wrap",children:e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"close",onClick:()=>d(c),title:"닫기",children:e.jsx(Bs,{className:"TfiClose"})}),e.jsx("div",{className:"title",children:i.title}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"desc",children:[e.jsx("p",{children:i.postAdres}),e.jsx("p",{children:i.srvcClCode}),e.jsxs("p",{children:[r(i.progrmBgnde)," ~ ",r(i.progrmEndde)]})]}),e.jsxs(B,{to:`/vdetail/${i.progrmRegistNo}`,state:{progrmRegistNo:i.progrmRegistNo},title:"상세보기",className:"goToVolunteer",children:["상세보기",e.jsx(Be,{className:"arrowFoward"})]})]})]})})},`${i.title}-${i.latlng}`)]}))})}const St={root:null,threshold:.3,rootMargin:"0px"},kt=t=>{const n=s.useRef(null),l=s.useCallback(([o],a)=>{o.isIntersecting&&(a.unobserve(o.target),t(o,a))},[t]);return s.useEffect(()=>{let o;return n.current&&(o=new IntersectionObserver(l,St),o.observe(n.current)),()=>{o&&o.disconnect()}},[l]),n};function It(){const[t,n]=s.useState(!0),[l,o]=s.useState(2),[a,d]=s.useState(0),[r,i]=s.useState(1),[c,u]=s.useState(!0),[h,m]=s.useState({numOfRows:"10",pageNo:"1",schCateGu:"all",keyword:"",schSido:"",schSign1:"",schupperClCode:"",schnanmClCode:"",schprogrmBgnde:"",progrmEndde:"",adultPosblAt:"",yngbgsPosblAt:""}),[x,j]=s.useState([]);function A(I){o(I===l?"":I)}const p=async()=>{await fetch("/api/list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,pageNo:""+r})}).then(I=>I.json()).then(I=>{if(d(I.totalCount),x.lenth+9>=a){u(!1);return}j(R=>R.concat(I.items.item)),i(R=>R+1)}).catch(I=>{throw u(!1),I})},b=kt(async(I,R)=>{!c||!t||(R.unobserve(I.target),await p(),R.observe(I.target),b.current&&b.current.classList.add("spin"))});return s.useEffect(()=>{console.log("페이지 번호: "+r)},[r]),s.useEffect(()=>{},[h]),e.jsxs("main",{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"봉사활동검색"})}),e.jsx(vt,{params:h,setParams:m,setData:j,setMoreData:u,setCount:d,setPage:i,onCheck:l,handleCheck:A}),e.jsxs("div",{className:"volunteerTab",children:[e.jsx("div",{className:`tabOption ${t?"selected":""}`,onClick:()=>n(!0),children:"목록보기"}),e.jsx("div",{className:`tabOption ${t?"":"selected"}`,onClick:()=>n(!1),children:"지도보기"})]}),e.jsx("div",{className:"result",children:t?e.jsxs("div",{className:"volunteerList",children:[e.jsxs("div",{className:"page",children:["[전체 ",a,"건]"]}),x.length<1?"검색 결과가 없습니다.":x.map((I,R)=>I.progrmSttusSe===l&&e.jsx(yt,{data:I,num:R,page:r},R)),e.jsx("div",{ref:b,className:"target"})]}):e.jsx("div",{className:"mapBox",children:e.jsx(Ct,{data:x})})})]})}function wt({setVolunteerValue:t,volunteerValue:n}){const[l,o]=s.useState([]),a=s.useContext(J);console.log(a.userId),console.log(a.auth);async function d(){await fetch(`/api/boards/applicants/${a.userId}`).then(r=>r.json()).then(r=>{console.log(r),o(r)}).catch(r=>{console.error(r)})}return s.useEffect(()=>{d()},[a.userId]),console.log(l),l&&e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:e.jsx("span",{children:"봉사활동"})}),e.jsx("td",{children:e.jsx("div",{className:"board-input volunteer-box",children:e.jsxs("select",{onChange:r=>t(r.target.value),value:n,children:[e.jsx("option",{value:"",children:"봉사활동선택"}),l.map((r,i)=>r.status=="F"&&e.jsx("option",{value:r.volunteerId,children:r.volunteerTitle},r.volunteerId))]})})})]})}function Tt(){const t="http://localhost:9090",n=ue(),l=K();if(!n.state){alert("Location state is missing");return}const o=n.state.boardKind,[a,d]=s.useState(n.state.boardData);console.log("boardData",a);const r=s.useContext(J);console.log(r.userId),console.log(r.auth);const[i,c]=s.useState(),[u,h]=s.useState(!1),[m,x]=s.useState(n.state.formKind==="modify"?n.state.boardData.title:""),[j,A]=s.useState(n.state.formKind==="modify"?n.state.boardData.volunteerId:"");console.log("volvalue",j),s.useState();const[p,b]=s.useState(Z.EditorState.createEmpty()),I=C=>{b(C)},R=Z.convertToRaw(p.getCurrentContent()),S=He(R);s.useEffect(()=>{if(n.state.formKind==="modify"){const C=n.state.boardData.content,D=Z.convertFromHTML(C),H=Z.ContentState.createFromBlockArray(D.contentBlocks,D.entityMap);b(Z.EditorState.createWithContent(H))}},[n.state.formKind]);const v=async C=>{if(C.preventDefault(),m==""){alert("제목을 입력해주세요");return}if(j===""&&n.state.boardKind==="4"){alert("후기를 작성할 봉사활동을 선태해주세요");return}if(R.blocks[0].text===""){alert("내용을 입력해주세요");return}let D,H;n.state.formKind==="write"&&(H={title:m,content:S,flg:o,users:{id:r.userId},volunteer:{id:j}}),n.state.formKind==="modify"&&(H={title:m,content:S,id:n.state.boardData.id,volunteer:{id:j}}),console.log(H);try{await fetch("/api/boards/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}).then(P=>P.json()).then(P=>{console.log("res",P),D=P.id,console.log("boardId",D)})}catch(P){console.error("등록 실패 에러",P)}const w=C.target.querySelector('input[name="upload"]');if(console.log(w.files),w.files.length==0&&(alert("등록완료"),l("/board",{state:{boardKind:o}})),w)for(var T=0;T<w.files.length;T++){const P=new FormData;P.append("file",w.files[T]),P.append("boardId",D),P.append("userId",r.userId);try{const F=await ee.post("/api/board/file/upload",P,{headers:{"Content-Type":"multipart/form-data"}});F.status===200?(console.log("파일 업로드 성공:",F),l("/board",{state:{boardKind:o}}),alert("등록완료")):console.error("파일 업로드 에러:",F.statusText)}catch(F){console.error("파일 업로드 에러:",F)}}};async function f(){fetch("/api/boards/"+a.id).then(C=>C.json()).then(C=>{d(C),console.log(C)}).catch(C=>{console.error(C)})}const y=async C=>{fetch("/api/img/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C})}).then(D=>D.json()).then(D=>{console.log(D),alert("삭제성공"),f()}).catch(D=>{console.error(D)})};return e.jsxs("div",{className:"inputContainer",children:[e.jsx("div",{className:"board-input-nav",children:e.jsx("h1",{children:n.state.formKind==="modify"?"게시판 글 수정":"게시판 글쓰기"})}),e.jsx("div",{className:"board-input-form",children:e.jsx("form",{onSubmit:v,children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:e.jsx("span",{children:"제목"})}),e.jsx("td",{children:e.jsx("div",{className:"board-input-titleBox",children:e.jsx("input",{type:"text",className:"form-control",name:"title",value:m,onChange:C=>x(C.target.value)})})})]}),o=="4"&&e.jsx(wt,{setVolunteerValue:A,volunteerValue:j}),e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:e.jsx("span",{children:"내용"})}),e.jsx("td",{children:e.jsx("div",{className:"board-input contentBox",children:e.jsx(Ue.Editor,{editorState:p,onEditorStateChange:I,localization:{locale:"ko"}})})})]}),n.state.formKind==="modify"&&e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:"첨부파일"}),e.jsx("td",{children:e.jsx("div",{className:"board-input board-imgList",children:e.jsxs("table",{className:"board-img-table",children:[e.jsxs("thead",{children:[e.jsx("th",{children:"번호"}),e.jsx("th",{children:"이미지"})]}),a.boardImgs.map((C,D)=>C.status=="Y"&&e.jsxs("tr",{id:C.id,children:[e.jsx("td",{className:"board-img-id",children:C.id}),e.jsx("td",{onClick:()=>{c(`${t}/api/image/${C.name}`),h(!0)},children:C.name}),e.jsx("td",{children:e.jsx("span",{onClick:()=>y(C.id),children:"삭제"})})]}))]})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:e.jsx("span",{children:"파일첨부"})}),e.jsx("td",{children:e.jsx("div",{className:"board-input uploadBox",children:e.jsx("input",{type:"file",multiple:"multiple",className:"form-control",name:"upload"})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name"}),e.jsx("td",{children:e.jsx("div",{className:"board-input-submitBox",children:e.jsx("button",{type:"submit",children:n.state.formKind==="modify"?"수정하기":"작성하기"})})})]})]})})})}),e.jsx(me,{style:Pt,isOpen:u,onRequestClose:()=>{h(!1)},children:e.jsx("img",{src:i})})]})}const Pt={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},content:{width:"600px",height:"300px",display:"flex",justifyContent:"center",overflow:"auto",top:"20vh",left:"30vw",right:"38vw",bottom:"42vh",WebkitOverflowScrolling:"touch",borderRadius:"14px",outline:"none",zIndex:10}};function At(){const[t,n]=s.useState("아이디 찾기"),[l,o]=s.useState(""),[a,d]=s.useState(""),[r,i]=s.useState(""),[c,u]=s.useState(""),[h,m]=s.useState(!1),[x,j]=s.useState("");s.useState("");const[A,p]=s.useState(""),b=P=>{n(F=>F==="아이디 찾기"?"비밀번호 찾기":"아이디 찾기")},I=K(),R=P=>{o(P.target.value)},S=P=>{i(P.target.value)},v=P=>{P.preventDefault(),fetch("/api/id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,phone:a})}).then(F=>F.json()).then(F=>{F.foundEmail?j("이메일 : "+F.foundEmail):F.error?j(F.error):j("일치하는 정보를 찾을 수 없습니다.")})},f=P=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(P),y=()=>{l===""?alert("이름 입력해 주세요."):a===""?alert("전화번호를 입력해 주세요."):h?r===""?alert("이메일을 입력해 주세요."):f(r)?l&&h&&r&&fetch("/api/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:r,phone:a})}).then(P=>{P.ok?(console.log("서버 응답:",P),alert("임시 비밀번호를 이메일로 발송하였습니다."),I("/login")):alert("일치하는 계정을 찾을 수 없습니다.")}).catch(P=>{console.error("오류:",P),alert("비밀번호 전송 중 오류가 발생했습니다.")}):alert("올바른 이메일 형식이 아닙니다."):alert("전화번호를 확인해 주세요.")},C=/^\s+|\s+$/g,D=/[\s]/g,H=/[`~!@#$%^&*|\\\'\";:\/?]/gi,w=/^[0-9]+$/,T=s.useCallback(P=>{const F=P.target.value,z=F.replace(/\D/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3");d(z),console.log(P.target.value),P.target.value.length<11||P.target.value.length>11?(u("올바른 전화번호 형식이 아닙니다."),m(!1)):P.target.value.replace(C,"")==""?(u("공백만 입력되었습니다."),m(!1)):D.test(P.target.value)==!0?(u("공백이 입력되었습니다."),m(!1)):H.test(P.target.value)==!0?(u("특수문자가 입력되었습니다."),m(!1)):w.test(P.target.value)?F.trim()===""||z.length!==13?(u("올바른 전화번호 형식이 아닙니다."),m(!1)):(u(""),m(!0)):(u("숫자만 입력가능합니다."),m(!1))},[]);return e.jsx(e.Fragment,{children:e.jsx("form",{children:e.jsxs("div",{className:"main",children:[e.jsx("input",{type:"radio",id:"tab-1",name:"show",checked:t==="아이디 찾기",onChange:b}),e.jsx("input",{type:"radio",id:"tab-2",name:"show",checked:t==="비밀번호 찾기",onChange:b}),e.jsxs("div",{className:"tab",children:[e.jsx("label",{htmlFor:"tab-1",children:"아이디 찾기"}),e.jsx("label",{htmlFor:"tab-2",children:"비밀번호 찾기"})]}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"content-div",children:[e.jsx("div",{children:e.jsx("img",{src:"/images/logo.png",className:"findLogoImage"})}),e.jsx("input",{type:"text",className:"findUser-textbox",placeholder:"이름을 입력해 주세요",name:"name",title:"name",value:l,onChange:R}),e.jsx("input",{type:"tel",className:"findUser-textbox",placeholder:"전화번호를 입력해 주세요",name:"phone",title:"phone",value:a,onChange:T}),e.jsx("div",{className:`message ${h?a.length>0?"find-success":"":"find-error"}`,children:c}),e.jsx("button",{onClick:v,className:"findUser-button",children:"아이디 찾기"}),e.jsx("div",{className:"find-Email",children:x})]}),e.jsxs("div",{className:"content-div",children:[e.jsx("div",{children:e.jsx("img",{src:"/images/logo.png",className:"findLogoImage"})}),e.jsx("div",{children:e.jsx("input",{type:"text",className:"findUser-textbox",placeholder:"이름을 입력해 주세요",name:"name",title:"name",value:l,onChange:R})}),e.jsx("div",{children:e.jsx("input",{type:"tel",className:"findUser-textbox",placeholder:"전화번호를 입력해 주세요",name:"phone",title:"phone",value:a,onChange:T})}),e.jsx("div",{className:`message ${h?a.length>0?"find-success":"":"find-error"}`,children:c}),e.jsxs("div",{children:[e.jsx("input",{type:"email",className:"findUser-textbox",placeholder:"이메일을 입력해 주세요",value:r,onChange:S}),e.jsx("div",{className:"error-message",children:A})]}),e.jsx("div",{children:e.jsx("button",{type:"button",className:"findUser-button",onClick:y,children:"비밀번호 찾기"})})]})]})]})})})}function Et(){const[t,n]=s.useState([]),l=s.useContext(J),o=K();if(!localStorage.getItem("accessToken")){alert("로그인이 필요합니다."),o("/login");return}const a=async()=>{await fetch(`/api/myVolunteer?userId=${l.userId}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}).then(r=>r.json()).then(r=>{console.log(r),n(r)}).catch(r=>{console.error(r)})};s.useEffect(()=>{a()},[l.userId]);async function d(r){let i=r;try{(await fetch("/api/app/cancel",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:i})})).ok?(confirm("취소하시겠습니까?"),a()):console.error("봉사활동 취소에 실패했습니다.")}catch(c){console.error("봉사활동 취소 요청 중 오류 발생:",c)}}return e.jsx(e.Fragment,{children:e.jsx("form",{children:e.jsxs("div",{className:"volunteer-request-container",children:[e.jsx(Te,{}),e.jsxs("div",{className:"volunteer-request-list",children:[e.jsx("div",{className:"category-top"}),t.length>0&&t.map((r,i)=>r.status==="C"?null:e.jsxs("div",{className:"volunteer-request-table",children:[e.jsxs("div",{className:"request-CLCode",children:[e.jsx(be,{className:"flowerIcon"}),r.category]}),e.jsx("div",{className:"request-program-title",children:e.jsx(B,{to:`/vdetail/${r.volunteerNumber}`,state:{progrmRegistNo:r.volunteerNumber},children:r.volunteerTitle})}),e.jsxs("div",{className:"request-detail",children:[e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"신청날짜: ",Y(new Date(r.selectedDay),"yyyy-MM-dd")]}),e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"봉사시간: ",r.selectedStartTime,"시 ~ ",r.selectedEndTime,"시"]})]}),e.jsxs("div",{className:"buttonBox",children:[e.jsx("div",{className:"status",children:r.status==="R"?"승인대기":r.status==="Y"?"승인완료":r.status==="F"?"봉사완료":r.status==="N"?"승인거부":"승인대기"}),e.jsxs("label",{className:`cancelBtn ${r.status==="Y"||r.status==="F"||r.status==="D"?"block":""}`,htmlFor:"cancelBtn",onClick:()=>{d(r.id)},children:[(r.status,"취소하기"),e.jsx("button",{id:"cancelBtn"})]})]})]},r.id)),e.jsx("div",{className:"category-bottom"})]})]})})})}function Bt(){const[t,n]=s.useState([]),l=s.useContext(J);async function o(){await fetch(`/api/myVolunteer?userId=${l.userId}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{console.log(a),n(a)}).catch(a=>{console.error(a)})}return s.useEffect(()=>{o()},[l.userId]),e.jsx(e.Fragment,{children:e.jsx("form",{children:e.jsxs("div",{className:"volunteer-request-container",children:[e.jsx(Te,{}),e.jsxs("div",{className:"volunteer-request-list",children:[e.jsx("div",{className:"category-top"}),t.length>0&&t.map((a,d)=>a.status!=="F"?null:e.jsxs("div",{className:"volunteer-request-table",children:[e.jsxs("div",{className:"request-CLCode",children:[e.jsx(be,{className:"flowerIcon"}),a.category]}),e.jsx("div",{className:"request-program-title",children:e.jsx(B,{to:`/vdetail/${a.volunteerNumber}`,state:{progrmRegistNo:a.volunteerNumber},children:a.volunteerTitle})}),e.jsxs("div",{className:"request-detail",children:[e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"신청날짜: ",Y(new Date(a.selectedDay),"yyyy-MM-dd")]}),e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"봉사시간: ",a.selectedStartTime,"시 ~ ",a.selectedEndTime,"시"]})]}),e.jsx("div",{className:"buttonBox",children:e.jsxs(B,{to:"/board/",state:{boardKind:"4"},children:["후기쓰러가기",e.jsx(Ds,{})]})})]},a.id)),e.jsx("div",{className:"category-bottom"})]})]})})})}function Dt(){const[t,n]=s.useState([]),l=s.useContext(J);async function o(){l.userId?await fetch(`/api/boards/myBoard/${l.userId}`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}).then(a=>a.json()).then(a=>{console.log(a),n(a)}).catch(a=>{console.error(a)}):console.log("아이디없음")}return s.useEffect(()=>{o(),console.log(t)},[l.userId]),e.jsx(e.Fragment,{children:e.jsx("form",{children:e.jsxs("div",{className:"volunteer-request-container",children:[e.jsx(Te,{}),t&&t.map((a,d)=>e.jsxs("div",{className:"volunteer-request-list",children:[e.jsx("div",{className:"category-top"}),e.jsxs("div",{className:"volunteer-request-table",children:[e.jsxs("div",{className:"request-CLCode",children:[e.jsx(be,{className:"flowerIcon"}),a.flg==="3"?"자유게시판":a.flg==="4"?"봉사후기":""]}),e.jsx("div",{className:"request-program-title",children:e.jsx("div",{children:e.jsx(B,{to:`/board/detail/${a.id}`,state:{id:a.id},children:a.title})})}),e.jsxs("div",{className:"request-detail",children:[e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"작성날짜: ",Y(new Date(a.createAt),"yyyy-MM-dd")]}),e.jsxs("span",{children:[e.jsx(Q,{className:"circleIcon"}),"수정날짜: ",Y(new Date(a.updateAt),"yyyy-MM-dd")]})]}),e.jsx("div",{className:"buttonBox"})]}),e.jsx("div",{className:"category-bottom"})]},a.id))]})})})}function Mt(){return K(),e.jsx(e.Fragment,{children:e.jsx("form",{children:e.jsxs("div",{className:"volunteer-request-container",children:[e.jsx("div",{className:"volunteer-request",children:"관심목록 [전체 4건]"}),e.jsx("div",{className:"category-bottom"}),e.jsxs("div",{className:"WishList-check",children:[e.jsx("input",{type:"checkbox",className:"list-ceckbox"}),e.jsxs("label",{children:["생활편의지원 ",">"," 활동보조"]}),e.jsx("label",{children:"해오름어린이집-경계성 장애 영유아 대상 외부 프로그램 활동"}),e.jsxs("label",{children:["[모집기관] 해오름어린이집",e.jsx("span",{children:"[봉사기간] 2023.07.31 ~ 2023.08.04"})]})]}),e.jsx("div",{className:"request-bottom"})]})})})}function Rt({sendDataToReserve:t}){function n(v){const f=v+"",y=f.substring(0,4),C=f.substring(4,6),D=f.substring(6,f.length);return new Date(y+"-"+C+"-"+D)}const l=ue(),o=l.state.data,a=o.progrmBgnde,d=o.progrmEndde,r=["월","화","수","목","금","토","일"],i=["일","월","화","수","목","금","토"],c=l.state.data.actWkdy.split(" ");function u(){for(let v=0;v<c.length;v++)for(let f=0;f<i.length;f++){if(v===c.length-1){c[v]!==i[f]&&i[f]!==1?i[f]=0:i[f]=1;continue}if(c[v]===i[f]){i[f]=1;continue}}}u();let h=Fs(),[m,x]=s.useState(Y(h,"yyyy-MM"));const[j,A]=s.useState("");let p=qs(m,"yyyy-MM",new Date),b=s.useMemo(()=>Vs({start:Ks(p,{weekStartsOn:1}),end:Us(Hs(p),{weekStartsOn:1})}),[p]);function I(){let v=Ge(p,{months:-1});x(Y(v,"yyyy-MM",{locale:we}))}function R(){let v=Ge(p,{months:1});x(Y(v,"yyyy-MM",{locale:we}))}s.useState({selectedDay:j,data:o});const S=()=>{j===""?alert("올바른 날짜를 선택해주세요."):t({selectedDay:j,data:o})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"calender",children:[e.jsxs("div",{className:"btnSelectBox",children:[e.jsx(B,{to:`/vdetail/${o.progrmRegistNo}`,state:{progrmRegistNo:o.progrmRegistNo},children:e.jsx("button",{className:"btnBack",children:"뒤로가기"})}),e.jsx("button",{onClick:S,className:"btnSelectDate",children:"날짜선택완료"})]}),e.jsxs("header",{children:[e.jsx(Xe,{onClick:I,className:"monthChangebutton",disabled:Qs(new Date(m))}),e.jsx("h1",{children:Y(p," yyyy.MM",{locale:we})}),e.jsx(Be,{onClick:R,className:"monthChangebutton"})]}),e.jsxs("div",{className:"calendarBody",children:[e.jsx("div",{className:"day",children:r.map((v,f)=>e.jsx("div",{children:v},f))}),e.jsx("div",{className:"calendarDate",children:b.map((v,f)=>e.jsx("div",{className:Ee(v,j)&&ze(v,p)?Ee(v,h)||Ne(v,n(d))||oe(v,n(a))||i[v.getDay()]!==1?"dateLabelBox":"dateLabelBox selectedDay":oe(v,h)?"dateLabelBox before":"dateLabelBox",children:e.jsxs("label",{id:"dateLabel",onClick:()=>{oe(v,h)||(A(v)||Ne(v,h))&&A(v),console.log("선택날짜:"+j)},className:Ee(v,h)?"dateLabel today":oe(v,h)?"dateLabel before":ze(v,p)?oe(v,h)?"":"dateLabel":"dateLabel before",children:[e.jsx("button",{id:"dateLabel",disabled:oe(v,h)||Ee(v,h)||i!==1||Ne(v,n(d))||oe(v,n(a))}),e.jsx("time",{dateTime:Y(v,"yyyy-MM-dd",{locale:we}),children:Y(v,"d")}),Ne(h,n(a))?Ne(v,h)&&oe(v,n(d))&&i[v.getDay()]===1?e.jsxs("p",{className:"reserveTime",children:["시작시간: ",o.actBeginTm,"시",e.jsx("br",{}),"종료시간: ",o.actEndTm,"시"]}):"":Ne(v,n(a))&&oe(v,n(d))&&i[v.getDay()]===1?e.jsxs("p",{className:"reserveTime",children:["시작시간: ",o.actBeginTm,"시",e.jsx("br",{}),"종료시간: ",o.actEndTm,"시"]}):""]})},v.toString()))})]})]})})}function Ot(){const[t,n]=s.useState(null),l=s.useContext(J);console.log(l.emailVerify);const o=i=>{n(i)},a=K(),d=async()=>{if(l.emailVerify=="N"){alert("이메일 인증이 필요합니다."),a("/mypage");return}await fetch("/api/reserve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t.data,date:Y(t.selectedDay,"yyyyMMdd"),id:l.userId})}).catch(i=>{throw console.log("err : ",i),i}),alert("신청이 완료되었습니다."),a("/")},r=()=>{n(null)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"봉사활동 신청하기"})}),e.jsx("main",{children:t===null?e.jsx(Rt,{sendDataToReserve:o}):e.jsx("div",{className:"reserveConfirm",children:e.jsxs("div",{className:"reserveInfo",children:[e.jsx("div",{className:"reserveInfoTitle",children:"신청 내역 확인"}),e.jsxs("div",{className:"reserveDetail1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"활동명"})," : ",t.data.progrmSj+"  "]}),e.jsxs("span",{children:[e.jsx("strong",{children:"주소"})," : ",t.data.nanmmbyNm+"  "]}),e.jsxs("span",{children:[e.jsx("strong",{children:"장소"})," : ",t.data.actPlace+"  "]})]}),e.jsxs("div",{className:"reserveDetail2",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"봉사시간"})," : ",t.data.actBeginTm,"시 ~ ",t.data.actEndTm,"시"]}),e.jsxs("span",{children:[e.jsx("strong",{children:"봉사분야"})," : ",t.data.srvcClCode]})]}),e.jsxs("div",{className:"reserveDetail3",children:[e.jsxs("span",{children:["선택일자 : ",e.jsx("strong",{children:Y(t.selectedDay,"yyyy-MM-dd")})]}),e.jsx("span",{children:"선택하신 일자가 맞습니까?"}),e.jsxs("div",{className:"btnChoose",children:[e.jsx("button",{id:"btnConfirm",onClick:()=>d(),children:"네"}),e.jsx("button",{id:"btnDeny",onClick:r,children:"아니오"})]})]})]})})})]})}function Lt({qnaData:t}){const n=K(),l=s.useContext(J);console.log(l.userId),console.log(l.auth);const o=()=>{n("/qna/input",{state:{qnaData:t,formKind:"modify",boardKind:"1"}})},a=async()=>{const d=t.id;confirm("삭제하시겠습니까?")&&fetch(`/api/qna/delete/${d}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"N"})}).then(r=>r.json()).then(r=>{console.log(r)}).catch(r=>{console.error(r)})};return e.jsxs("div",{className:"qna-detail-container",children:[e.jsx("div",{className:"qna-detail-kind",children:e.jsx("h1",{children:t&&t.flg==1?"FAQ":"QnA"})}),e.jsxs("div",{className:"qna-detail-box",children:[e.jsxs("div",{className:"qna-detail-header",children:[e.jsx("div",{className:"qna-title",children:e.jsxs("h3",{children:["글제목 : ",t.title]})}),e.jsx("div",{className:"qna-writter-info",children:e.jsxs("p",{children:["등록일 : ",t.createAt2]})})]}),e.jsx("div",{className:"qna-detail-content",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})})]}),l.auth=="ROLE_ADMIN"&&e.jsxs("div",{children:[e.jsx("button",{onClick:o,children:"수정"}),e.jsx("button",{onClick:a,children:"삭제"})]})]})}function $t({qnaData:t,fetchQna:n}){const l=K();console.log("qna data",t);const o=s.useContext(J);console.log(o.userId),console.log(o.auth);const[a,d]=s.useState(!1),[r,i]=s.useState(Z.EditorState.createEmpty()),c=p=>{i(p)},u=Z.convertToRaw(r.getCurrentContent()),h=He(u),m=async()=>{if(u.blocks[0].text===""){alert("내용을 입력해주세요");return}if(!confirm("저장하시겠습니까?"))return;let p={parentNo:t.id,content:h,flg:"2",userId:o.userId};await fetch("/api/qna/post/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(b=>b.json()).then(b=>{console.log(b),d(!1),i(Z.EditorState.createEmpty()),n()}).catch(b=>{console.log(b)})},x=async()=>{const p=t.id;confirm("삭제하시겠습니까?")&&fetch(`/api/qna/delete/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"N"})}).then(b=>b.json()).then(b=>{console.log(b),l("/qna")}).catch(b=>{console.error(b)})},j=()=>{l("/qna/input",{state:{qnaData:t,formKind:"modify",boardKind:"2"}})};function A(p){return p.slice(0,10)}return console.log(t.answers.length),e.jsxs("div",{className:"qna-detail-container",children:[e.jsx("div",{className:"qna-detail-kind",children:e.jsx("h1",{children:t&&t.flg==1?"FAQ":"QnA"})}),e.jsxs("div",{className:"qna-detail-box",children:[e.jsxs("div",{className:"qna-detail-header",children:[e.jsx("div",{className:"qna-title",children:e.jsx("h3",{children:t.title})}),e.jsxs("div",{className:"qna-writter-info",children:[e.jsxs("p",{children:["글쓴이 : ",t.nickname]}),e.jsxs("p",{children:["등록일 : ",t.createAt2]})]})]}),e.jsx("div",{className:"qna-detail-qnatab-content",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})}),o.auth=="ROLE_ADMIN"||o.userId==t.userId?e.jsx("div",{className:"qna-detail-qnatab-btn",children:t.answers.length==0?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:j,children:"수정"}),e.jsx("button",{onClick:x,children:"삭제"}),e.jsx("button",{onClick:()=>{d(!0)},children:"답변달기"})]}):null}):null]}),t.answers.length!=0&&t.answers.map((p,b)=>(console.log(b),console.log(t.answers.length),e.jsxs("div",{className:"qna-detail-box",children:[e.jsx("div",{className:"qna-detail-header",children:e.jsxs("div",{className:"qna-writter-info",children:[p.users.authority=="ROLE_ADMIN"?e.jsx("span",{children:"글쓴이 : 관리자"}):e.jsx("span",{children:p.users.nickname}),e.jsxs("span",{children:["등록일 : ",A(p.createAt)]})]})}),e.jsx("div",{className:"qna-detail-qnatab-content",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:p.content}})}),o.auth=="ROLE_ADMIN"||o.userId==t.userId?e.jsx("div",{className:"qna-detail-qnatab-btn",children:e.jsx("button",{style:t.answers.length==b+1?null:{display:"none"},onClick:()=>{d(!0)},children:"답변달기"})}):null]},p.id))),a&&e.jsxs("div",{className:"qna-detail-qnatab-response",children:[e.jsx(Ue.Editor,{editorState:r,onEditorStateChange:c,localization:{locale:"ko"}}),e.jsxs("div",{className:"response-btn-box",children:[e.jsx("button",{onClick:m,children:"저장"}),e.jsx("button",{onClick:()=>{d(!1)},children:"취소"})]})]})]})}function Ft(){let{id:t}=es();const[n,l]=s.useState();async function o(){fetch("/api/qna/"+t).then(a=>a.json()).then(a=>{l(a),console.log(a)}).catch(a=>{console.error(a)})}return s.useEffect(()=>{o()},[]),console.log(n),n&&(n.flg==1?e.jsx(Lt,{qnaData:n}):e.jsx($t,{qnaData:n,fetchQna:o}))}function qt(){const t=ue(),n=K();console.log("input kind : ",t.state);const l=s.useContext(J);console.log(l.userId),console.log(l.auth);const[o,a]=s.useState(t.state.formKind==="modify"?t.state.qnaData.title:""),[d,r]=s.useState(Z.EditorState.createEmpty()),i=m=>{r(m)},c=Z.convertToRaw(d.getCurrentContent()),u=He(c);s.useEffect(()=>{if(t.state.formKind==="modify"){const m=t.state.qnaData.content,x=Z.convertFromHTML(m),j=Z.ContentState.createFromBlockArray(x.contentBlocks,x.entityMap);r(Z.EditorState.createWithContent(j))}},[t.state.formKind]);const h=async m=>{if(m.preventDefault(),o==""){alert("제목을 입력해주세요");return}if(c.blocks[0].text===""){alert("내용을 입력해주세요");return}let x,j;t.state.formKind==="write"&&t.state.boardKind==="1"&&(j={title:o,content:u,flg:t.state.boardKind,userId:l.userId}),t.state.formKind==="modify"&&t.state.boardKind==="1"&&(j={title:o,content:u,id:t.state.qnaData.id}),t.state.formKind==="write"&&t.state.boardKind==="2"&&(j={title:o,content:u,flg:t.state.boardKind,userId:l.userId}),t.state.formKind==="modify"&&t.state.boardKind==="2"&&(j={title:o,content:u,id:t.state.qnaData.id}),console.log(j);try{await fetch("/api/qna/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}).then(A=>A.json()).then(A=>{x=A.id,console.log("qnaId",x),alert("등록완료"),n("/qna")})}catch(A){console.error("등록 실패 에러",A)}};return e.jsxs("div",{className:"inputContainer",children:[e.jsx("div",{className:"board-input-nav",children:e.jsx("h1",{children:t.state.formKind==="modify"?"QnA 글 수정":"QnA 글쓰기"})}),e.jsx("div",{className:"board-input-form",children:e.jsx("form",{onSubmit:h,children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:"제목"}),e.jsx("td",{children:e.jsx("div",{className:"board-input-titleBox",children:e.jsx("input",{type:"text",className:"form-control",name:"title",value:o,onChange:m=>a(m.target.value)})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name",children:"내용"}),e.jsx("td",{children:e.jsx("div",{className:"board-input contentBox",children:e.jsx(Ue.Editor,{editorState:d,onEditorStateChange:i,localization:{locale:"ko"}})})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"board-input-content-name"}),e.jsx("td",{children:e.jsx("div",{className:"board-input-submitBox",children:e.jsx("button",{type:"submit",children:t.state.formKind==="modify"?"수정하기":"작성하기"})})})]})]})})})})]})}function Vt(){const[t,n]=s.useState(!1),l=()=>{window.scroll({top:0,behavior:"smooth"})};return s.useEffect(()=>{const o=()=>{window.scrollY>500?n(!0):n(!1)};return console.log(window.scrollY),window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[]),t&&e.jsxs("div",{className:"scroll__container",children:[e.jsx("button",{id:"arrowTop",onClick:l,type:"button"}),e.jsx("label",{htmlFor:"arrowTop",children:e.jsx(Ms,{id:"arrowTop"})})]})}function Kt(){const[t,n]=s.useState(""),[l,o]=s.useState({type:"password",visible:!1}),a=m=>{o(()=>l.visible?{type:"password",visible:!1}:{type:"text",visible:!0})},[d,r]=s.useState({email:"",password:""}),i=m=>{n(m.target.value)};async function c(){fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(m=>m.json()).then(m=>{r(m),console.log(m),console.log(localStorage)}).catch(m=>{console.error(m)})}s.useEffect(()=>{c()},[]);const u=()=>{console.log("click login"),console.log("Email : ",d.email),console.log("password : ",t),t===""?alert("비밀번호를 입력해주세요."):ee.post("api/login",{email:d.email,password:t}).then(()=>{console.log("비밀번호가 일치합니다!"),alert("비밀번호가 일치합니다!"),document.location.href="/ChangePassword"}).catch(m=>{console.error(m),alert("비밀번호가 일치하지 않습니다.")})},h=m=>{m.key==="Enter"&&onClickLogin()};return e.jsx(e.Fragment,{children:e.jsxs("form",{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"비밀번호 확인"})}),e.jsxs("div",{className:"PW-Container",children:[e.jsx("img",{className:"PW-logo-size",src:"/images/logo.png",alt:"로고이미지"}),e.jsxs("div",{className:"PW-Confirm",children:["비밀번호 입력 :",e.jsx("input",{type:l.type,onChange:i,className:"PW-Confirm-box",placeholder:"비밀번호를 입력해 주세요",name:"password",title:"password",value:t,onKeyPress:h}),e.jsx("span",{className:"chek-PWShowBtn",onClick:a,children:l.visible?"비밀번호 숨기기":"비밀번호 보기"})]}),e.jsx("div",{className:"buttonBox",children:e.jsx("button",{type:"button",className:"PW-Confrim-Btn",onClick:u,children:"비밀번호 확인"})})]})]})})}const Ut=()=>{const t=()=>{const n=new URL(window.location.href);console.log(n);const l=n.searchParams.get("accessToken"),o=n.searchParams.get("tokenExpiresIn"),a=n.searchParams.get("refreshToken");console.log(l,o,a),localStorage.setItem("accessToken",l),localStorage.setItem("tokenExpiresIn",o),localStorage.setItem("refreshToken",a),console.log(localStorage),document.location.href="/"};return s.useEffect(()=>{t()},[]),e.jsx(e.Fragment,{})};function Ht(){const t=K(),[n,l]=s.useState(""),[o,a]=s.useState(!1),[d,r]=s.useState(""),[i,c]=s.useState(""),[u,h]=s.useState(""),[m,x]=s.useState(!1),[j,A]=s.useState({type:"password",visible:!1}),p=y=>{A(()=>j.visible?{type:"password",visible:!1}:{type:"text",visible:!0})},b=s.useCallback(y=>{const C=y.target.value;l(C);const D=/^\s+|\s+$/g,H=/[\s]/g,w=/^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,25}$/,T=y.target.value;l(T),w.test(T)?y.target.value.replace(D,"")==""?(r("공백만 입력되었습니다."),a(!1)):H.test(y.target.value)==!0?(r("공백이 입력되었습니다."),a(!1)):C.trim()===""?(r("비밀번호를 입력해주세요."),a(!1)):(r("올바른 비밀번호 입니다."),a(!0)):(r("숫자+영문자+특수문자 조합으로 8자리 이상 입력해주세요."),a(!1))},[]),I=s.useCallback(y=>{const C=y.target.value;c(C),n!==C?(h("비밀번호가 불일치합니다. 다시 입력해주세요."),x(!1)):C.trim()===""?(h("비밀번호 확인을 해주세요."),x(!1)):(h("비밀번호가 일치합니다."),x(!0))},[n]),[R,S]=s.useState({email:"",password:""});async function v(){fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(y=>y.json()).then(y=>{S(y),console.log(localStorage)}).catch(y=>{console.error(y)})}s.useEffect(()=>{v()},[]);const f=async y=>{y.preventDefault();try{const C={email:R.email,password:n};if((await ee.put("/api/user/passwordUpdate",C,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}})).status===500)alert("비밀번호 변경에 실패하였습니다.");else if(n!==i){alert("새 비밀번호와 새 비밀번호 확인이 일치하지 않습니다.");return}else o?m?(alert("패스워드 변경이 완료되었습니다."),console.log(n),t("/MyPage")):(r("비밀번호를 확인해주세요."),a(!1)):(r("비밀번호를 확인해주세요."),alert("비밀번호를 확인해 주세요"),a(!1))}catch(C){console.error("패스워드 변경 도중 에러 발생:",C)}};return console.log(o),console.log(n),console.log(m),console.log(i),e.jsx(e.Fragment,{children:e.jsxs("form",{children:[e.jsx("div",{className:"pageTitle",children:e.jsx("span",{children:"비밀번호 변경"})}),e.jsxs("div",{className:"PW-Container",children:[e.jsx("img",{className:"PW-logo-size",src:"/images/logo.png",alt:"로고이미지"}),e.jsxs("div",{className:"PW-Confirm",children:["새 비밀번호 입력 :",e.jsx("input",{type:j.type,className:"PW-Confirm-box",placeholder:"비밀번호를 확인해 주세요",name:"password",title:"password",value:n,onChange:b}),e.jsx("span",{className:"chek-PWShowBtn",onClick:p,children:j.visible?"비밀번호 숨기기":"비밀번호 보기"}),e.jsx("div",{className:`message ${o?n.length>0?"PW-Change-success":"":"PW-Change-error"}`,children:d}),e.jsx("br",{}),"새 비밀번호 확인 :",e.jsx("input",{type:j.type,className:"PW-Confirm-box",placeholder:"비밀번호를 확인해 주세요",name:"confirmPassword",title:"confirmPassword",value:i,onChange:I}),e.jsx("div",{className:`message ${m?i.length>0?"PW-Change-success":"":"PW-Change-error"}`,children:u})]}),e.jsx("div",{className:"buttonBox",children:e.jsx("button",{type:"button",className:"PW-Confrim-Btn",onClick:f,children:"비밀번호 수정"})})]})]})})}function Qt(){return e.jsxs(e.Fragment,{children:[e.jsx(Xs,{}),e.jsxs(ve,{children:[e.jsx($,{path:"/",element:e.jsx(lt,{})}),e.jsx($,{path:"/about",element:e.jsx(Ys,{})}),e.jsx($,{path:"/volunteer/*",element:e.jsx(It,{})}),e.jsx($,{path:"/vdetail/*",element:e.jsx(Qe,{})}),e.jsx($,{path:"/reserve/*",element:e.jsx(Ot,{})}),e.jsx($,{path:"/board/*",element:e.jsx(dt,{})}),e.jsx($,{path:"/MyVolunteer/*",element:e.jsx(Et,{})}),e.jsx($,{path:"/VolunteerSpec/*",element:e.jsx(Bt,{})}),e.jsx($,{path:"/VolunteerReview/*",element:e.jsx(Dt,{})}),e.jsx($,{path:"/VolunteerHeaders/*",element:e.jsx(Te,{})}),e.jsx($,{path:"/board/detail/:id",element:e.jsx(ct,{})}),e.jsx($,{path:"/board/input",element:e.jsx(Tt,{})}),e.jsx($,{path:"/mypage/*",element:e.jsx(mt,{})}),e.jsx($,{path:"/MypageModify/*",element:e.jsx(ut,{})}),e.jsx($,{path:"/WishList/*",element:e.jsx(Mt,{})}),e.jsx($,{path:"/qna/*",element:e.jsx(gt,{})}),e.jsx($,{path:"/login/*",element:e.jsx(ht,{})}),e.jsx($,{path:"/FindUser/*",element:e.jsx(At,{})}),e.jsx($,{path:"/PasswordConfirm/*",element:e.jsx(Kt,{})}),e.jsx($,{path:"/ChangePassword/*",element:e.jsx(Ht,{})}),e.jsx($,{path:"/signup/*",element:e.jsx(pt,{})}),e.jsx($,{path:"/qna/detail/:id",element:e.jsx(Ft,{})}),e.jsx($,{path:"/qna/input",element:e.jsx(qt,{})}),e.jsx($,{path:"/oauth2login/callback",element:e.jsx(Ut,{})})]}),e.jsx(Vt,{}),e.jsx(et,{})]})}function Jt({setIsLogin:t}){const n=K(),l=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("nickname"),localStorage.removeItem("user_email"),t(!1)};return e.jsx("div",{className:"admin-header",children:e.jsxs("div",{className:"admin-nav",children:[e.jsxs("ul",{className:"admin-nav-list",children:[e.jsx("li",{className:"admin-nav-item",onClick:()=>{n("")},children:"게시판"}),e.jsx("li",{className:"admin-nav-item",onClick:()=>{n("user")},children:"회원"}),e.jsx("li",{className:"admin-nav-item",onClick:()=>{n("qna")},children:"문의"}),e.jsx("li",{className:"admin-nav-item",onClick:()=>{n("volunteer")},children:"봉사활동"})]}),e.jsx("li",{onClick:()=>{n("/")},className:"ad-logout-main",children:"메인으로"}),e.jsx("li",{onClick:l,className:"ad-logout-btn",children:"로그아웃"})]})})}function _t({boardData:t,reportData:n,page:l,handlePageChange:o,fetchBoards:a,selectCategory:d,reportedBoard:r,reportViewHandle:i,searchByDate:c}){const u=K(),h=(l-1)*10,m=h+10,x=t.slice(h,m);console.log("paginatedBoardData",x);const[j,A]=s.useState("0"),[p,b]=s.useState(!1),[I,R]=s.useState(!1),[S,v]=s.useState(!1);console.log(j);const[f,y]=s.useState([]),[C,D]=s.useState([]);s.useEffect(()=>{y([]),console.log("페이지바뀜",f)},[l]);const H=(g,E)=>{console.log("게시판 체크 여부",g,E),y(g?[...f,E]:f.filter(N=>N!==E))},w=g=>{if(g){console.log(x.length),console.log(g);const E=[];x.forEach(N=>console.log(N.id)),x.forEach(N=>E.push(N.id)),y(E)}else y([])},T=(g,E)=>{console.log("댓글 체크 여부",g,E),D(g?[...C,E]:C.filter(N=>N!==E))},P=g=>{if(g){console.log(W.length),console.log(g);const E=[];W.forEach(N=>console.log(N.id)),W.forEach(N=>E.push(N.id)),D(E)}else D([])};console.log("체크된 글 리스트",f),console.log("체크된 댓글글 리스트",C);async function F(){const g=f.map(E=>({id:E}));console.log(g),confirm("삭제하시겠습니까?")&&await fetch("/api/admin/boards/delete",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(E=>E.json()).then(E=>{console.log("ddddd",E),y([]),A(j),b(!1),d(j),console.log("boardCategory",j)}).catch(E=>{console.log(E)})}async function _(){const g=f.map(E=>({id:E}));console.log(g),confirm("복구하시겠습니까??")&&await fetch("/api/admin/boards/revert",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(E=>E.json()).then(E=>{console.log(E),y([]),A(j),b(!1),d(j)}).catch(E=>{console.log(E)})}async function z(){const g=C.map(E=>({id:E}));console.log(g),confirm("삭제하시겠습니까?")&&await fetch("/api/admin/reply/delete",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(E=>E.json()).then(E=>{console.log(E),d(j),D([]),b(!1),v(!1)}).catch(E=>{console.log(E)})}async function X(){const g=C.map(E=>({id:E}));console.log(g),confirm("복구하시겠습니까??")&&await fetch("/api/admin/reply/revert",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(E=>E.json()).then(E=>{console.log(E),d(j),D([]),b(!1),v(!1)}).catch(E=>{console.log(E)})}const[W,se]=s.useState([]),q=g=>{console.log("re",g),se(g)};function U(g){return g.slice(0,10)}const[V,G]=s.useState(),[te,ce]=s.useState();return e.jsxs("div",{className:"ad-board",children:[e.jsx("div",{className:"ad-board-manage-bar",children:e.jsx("table",{className:"ad-board-manage-table",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("span",{children:"게시판 선택"}),e.jsxs("select",{onChange:g=>{A(g.target.value),d(g.target.value,!1),b(!1),o(1),y([])},value:j,children:[e.jsx("option",{value:"0",children:"전체보기"}),e.jsx("option",{value:"1",children:"공지사항"}),e.jsx("option",{value:"2",children:"소식공유"}),e.jsx("option",{value:"3",children:"자유게시판"}),e.jsx("option",{value:"4",children:"봉사후기"})]})]}),e.jsx("td",{children:"신고된 게시글만 보기"}),e.jsx("td",{className:"ad-board-manage-checkBox",children:e.jsx("input",{type:"checkbox",onChange:g=>{o(1),b(!p),d(j,g.target.checked)},checked:!!p})}),e.jsx("td",{children:"기간별로보기"}),e.jsxs("td",{children:[e.jsx("input",{type:"date",id:"startDate",value:V||"",onChange:g=>G(g.target.value)}),"~",e.jsx("input",{type:"date",id:"endDate",value:te||"",onChange:g=>ce(g.target.value)})]}),e.jsx("td",{children:e.jsx("button",{onClick:()=>c(V,te),children:"날짜 검색"})})]})})})}),e.jsxs("table",{className:"ad-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"ad-board-head ad-board-head-checkbox",children:e.jsx("input",{type:"checkbox",onChange:g=>{w(g.target.checked)},checked:f.length===x.length})}),e.jsx("th",{className:"ad-board-head",children:"번호"}),e.jsx("th",{className:"ad-board-head",children:"제목"}),e.jsx("th",{className:"ad-board-head",children:"작성자ID"}),e.jsx("th",{className:"ad-board-head",children:"Nick"}),e.jsx("th",{className:"ad-board-head",children:"게시판 종류"}),e.jsx("th",{className:"ad-board-head",children:"댓글수"}),e.jsx("th",{className:"ad-board-head",children:"상태"}),e.jsx("th",{className:"ad-board-head",children:"등록일"}),e.jsx("th",{className:"ad-board-head",children:"신고"})]})}),e.jsx("tbody",{children:x.map((g,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"ad-board-checkbox",children:e.jsx("input",{type:"checkbox",onChange:N=>H(N.target.checked,g.id),checked:!!f.includes(g.id)})}),e.jsx("td",{className:"ad-board-item ad-board-id",children:g.id}),e.jsx("td",{className:"ad-board-item ad-board-title",children:e.jsx("span",{onClick:()=>{u(`/board/detail/${g.id}`)},children:g.title})}),e.jsx("td",{className:"ad-board-item ad-board-userId",children:g.userId}),e.jsx("td",{className:"ad-board-item ad-board-nick",children:g.nick}),e.jsx("td",{className:"ad-board-item ad-board-category",children:g.flg==="1"?"공지사항":g.flg==="2"?"소식공유":g.flg==="3"?"자유게시판":g.flg==="4"?"봉사후기":""}),e.jsx("td",{className:"ad-board-item ad-board-replyCount",children:e.jsx("span",{onClick:()=>{d(j),q(g.replies),v(!0)},children:g.replies.length})}),e.jsx("td",{className:"ad-board-item ad-board-status",children:g.status==="Y"?"게시":"삭제"}),e.jsx("td",{className:"ad-board-item ad-board-date",children:g.createAt2}),e.jsx("td",{className:"ad-board-item ad-board-reportYn",style:g.reportYn=="Y"?{color:"red"}:null,children:e.jsx("span",{onClick:()=>{R(!0),r(g.id)},children:g.reportYn})})]},g.id))})]}),e.jsxs("div",{className:"ad-board-btn-box",children:[e.jsx("button",{onClick:F,children:"선택삭제"}),e.jsx("button",{onClick:_,children:"선택복구"})]}),e.jsx(xe,{activePage:l,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:"<<",prevPageText:"<",lastPageText:">",nextPageText:">>",onChange:o}),e.jsx(me,{style:Ze,isOpen:I,onRequestClose:()=>{R(!1)},children:n.length==0?e.jsx("span",{className:"modal-null-alert",children:"신고내역이없습니다."}):e.jsx("div",{className:"modal-container modal-report-container",children:e.jsxs("table",{className:"modal-report-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"번호"}),e.jsx("th",{children:"사유"}),e.jsx("th",{children:"게시판번호"}),e.jsx("th",{children:"게시자ID"}),e.jsx("th",{children:"신고자ID"}),e.jsx("th",{children:"신고일"})]})}),e.jsx("tbody",{children:n.map((g,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"modal-report-id",children:g.id}),e.jsx("td",{className:"modal-report-reason",children:g.reason==1?"폭력":g.reason==2?"광고":g.reason==3?"선정성":g.reason==4?"게시판성격과 무관":""}),e.jsx("td",{className:"modal-report-boardId",children:g.boardId}),e.jsx("td",{className:"modal-report-reportedId",children:g.reportedId}),e.jsx("td",{className:"modal-report-reporterId",children:g.reporterId}),e.jsx("td",{className:"modal-report-date",children:g.createAt2})]},g.id))})]})})}),e.jsx(me,{style:Ze,isOpen:S,onRequestClose:()=>{v(!1),D([])},children:W.length==0?e.jsx("span",{children:"댓글이 없습니다"}):e.jsxs("div",{className:"modal-container modal-reply-container",children:[e.jsxs("table",{className:"modal-reply-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",onChange:g=>{P(g.target.checked)},checked:C.length===W.length})}),e.jsx("th",{children:"번호"}),e.jsx("th",{children:"내용"}),e.jsx("th",{children:"작성자ID"}),e.jsx("th",{children:"댓글상태"}),e.jsx("th",{children:"댓글종류"}),e.jsx("th",{children:"등록일"})]})}),e.jsx("tbody",{children:W.map((g,E)=>e.jsxs("tr",{children:[e.jsx("td",{className:"modal-reply-checkbox",children:e.jsx("input",{type:"checkbox",onChange:N=>T(N.target.checked,g.id),checked:!!C.includes(g.id)})}),e.jsx("td",{className:"modal-reply-id",children:g.id}),e.jsx("td",{className:"modal-reply-content",children:g.content}),e.jsx("td",{className:"modal-reply-userId",children:g.users.id}),e.jsx("td",{className:"modal-reply-status",children:g.status=="Y"?"게시":g.status=="N"?"삭제":""}),e.jsx("td",{className:"modal-reply-kind",children:g.reply==null?"댓글":`대댓글(${g.reply.id})`}),e.jsx("td",{className:"modal-reply-date",children:U(g.createAt)})]},g.id))})]}),e.jsxs("div",{className:"modal-reply-btnBox",children:[e.jsx("button",{onClick:z,children:"선택삭제"}),e.jsx("button",{onClick:X,children:"선택복구"})]})]})})]})}const Ze={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:10},content:{width:"1200px",minHeight:"400px",display:"flex",justifyContent:"center",overflow:"auto",top:"30vh",left:"25vw",right:"38vw",bottom:"42vh",WebkitOverflowScrolling:"touch",borderRadius:"14px",outline:"none",zIndex:10}};function Wt(){K();const[t,n]=s.useState([]),[l,o]=s.useState([]),[a,d]=s.useState(1),r=m=>{d(m)};async function i(){await fetch("/api/admin/boards").then(m=>m.json()).then(m=>{console.log(m),n(m)}).catch(m=>{console.error(m)})}async function c(m,x){console.log(m),console.log(x),await fetch("/api/admin/boards/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flg:m})}).then(j=>j.json()).then(j=>{if(console.log("selectCategory",j),x){const A=j.filter(p=>p.reportYn==="Y");n(A);return}n(j),console.log(j)}).catch(j=>{console.log(j)})}async function u(m){console.log(m),await fetch("/api/admin/boards/reported",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({board:m})}).then(x=>x.json()).then(x=>{console.log(x),o(x)})}s.useEffect(()=>{i()},[]);async function h(m,x){console.log(m,"dddd",x),await fetch("/api/admin/boards/date",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:m+"T00:00:00",endDate:x+"T23:59:59"})}).then(j=>j.json()).then(j=>{console.log(j),n(j)})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"ad-container",children:[e.jsx("h1",{children:"게시글 리스트"}),e.jsx(_t,{boardData:t,reportData:l,page:a,handlePageChange:r,fetchBoards:i,selectCategory:c,reportedBoard:u,searchByDate:h})]})})}function Yt({userData:t,page:n,handlePageChange:l,fetchUsers:o,getBoardList:a,blackedOnly:d,setBlackedOnly:r,searchUser:i}){K();const c=(n-1)*10,u=c+10,h=t.slice(c,u);console.log("paginatedUserData",h);const[m,x]=s.useState("all"),[j,A]=s.useState("");s.useState(!1),s.useState(!1);const[p,b]=s.useState([]),[I,R]=s.useState([]);s.useEffect(()=>{b([]),console.log("페이지바뀜",p)},[n]);const S=(w,T)=>{console.log("게시판 체크 여부",w,T),b(w?[...p,T]:p.filter(P=>P!==T))},v=w=>{if(w){console.log(h.length),console.log(w);const T=[];h.forEach(P=>console.log(P.id)),h.forEach(P=>T.push(P.id)),b(T)}else b([])};async function f(){const w=p.map(T=>({id:T}));console.log(w),confirm("차단하시겠습니까?")&&await fetch("/api/admin/users/black",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(T=>T.json()).then(T=>{b([]),o()}).catch(T=>{console.log(T)})}async function y(){const w=p.map(T=>({id:T}));console.log(w),confirm("차단을 푸시겠습니까?")&&await fetch("/api/admin/users/revert",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(T=>T.json()).then(T=>{b([]),o()}).catch(T=>{console.log(T)})}async function C(){const w=p.map(T=>({id:T}));console.log(w),confirm("관리자로 등록 하시겠습니까?")&&await fetch("/api/admin/users/addAdmin",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(T=>T.json()).then(T=>{b([]),o()}).catch(T=>{console.log(T)})}async function D(){const w=p.map(T=>({id:T}));console.log(w),confirm("관리자권한을 해제 하시겠습니까?")&&await fetch("/api/admin/users/removeAdmin",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then(T=>T.json()).then(T=>{b([]),o()}).catch(T=>{console.log(T)})}console.log("체크된 글 리스트",p),console.log("체크된 댓글글 리스트",I);async function H(){i(m,j),l(1),console.log("검색기준 : ",m),console.log("검색어 : ",j)}return e.jsxs("div",{className:"ad-board",children:[e.jsx("div",{className:"ad-board-manage-bar",children:e.jsx("table",{className:"ad-board-manage-table",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"회원검색"}),e.jsx("td",{children:e.jsxs("select",{onChange:w=>{x(w.target.value)},children:[e.jsx("option",{value:"all",children:"검색기준"}),e.jsx("option",{value:"id",children:"회원번호"}),e.jsx("option",{value:"name",children:"회원이름"}),e.jsx("option",{value:"email",children:"이메일"}),e.jsx("option",{value:"nickname",children:"NICK"})]})}),e.jsxs("td",{children:[e.jsx("input",{type:"text",onChange:w=>{A(w.target.value)}}),e.jsx("button",{onClick:H,children:"검색"})]}),e.jsx("td",{children:e.jsx("button",{onClick:()=>{o(),x("all")},children:"전체보기"})})]})})})}),e.jsxs("table",{className:"ad-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"ad-board-head ad-board-head-checkbox",children:e.jsx("input",{type:"checkbox",onChange:w=>v(w.target.checked),checked:p.length===h.length})}),e.jsx("th",{className:"ad-board-head",children:"번호"}),e.jsx("th",{className:"ad-board-head",children:"이름"}),e.jsx("th",{className:"ad-board-head",children:"나이"}),e.jsx("th",{className:"ad-board-head",children:"Email"}),e.jsx("th",{className:"ad-board-head",children:"H.P"}),e.jsx("th",{className:"ad-board-head",children:"Nick"}),e.jsx("th",{className:"ad-board-head",children:"상태"}),e.jsx("th",{className:"ad-board-head",children:"회원등급"}),e.jsx("th",{className:"ad-board-head",children:"가입일"})]})}),e.jsx("tbody",{children:h.map((w,T)=>e.jsxs("tr",{children:[e.jsx("td",{className:"ad-user-checkbox",children:e.jsx("input",{type:"checkbox",onChange:P=>S(P.target.checked,w.id),checked:!!p.includes(w.id)})}),e.jsx("td",{className:"ad-board-item ad-user-id",children:w.id}),e.jsx("td",{className:"ad-board-item ad-user-name",children:e.jsx("span",{children:w.name})}),e.jsx("td",{className:"ad-board-item ad-user-age",children:e.jsx("span",{children:w.age})}),e.jsx("td",{className:"ad-board-item ad-user-mail",children:w.email}),e.jsx("td",{className:"ad-board-item ad-user-phone",children:w.phone}),e.jsx("td",{className:"ad-board-item ad-user-nick",children:w.nickname}),e.jsx("td",{className:"ad-board-item ad-user-status",children:w.status=="Y"?"활동":"블랙"}),e.jsx("td",{className:"ad-board-item ad-user-auth",children:w.authority=="ROLE_USER"?"유저":"관리자"}),e.jsx("td",{className:"ad-board-item ad-user-date",children:w.createAt2})]},w.id))})]}),e.jsxs("div",{className:"ad-board-btn-box",children:[e.jsx("button",{onClick:f,children:"선택차단"}),e.jsx("button",{onClick:y,children:"선택복구"}),e.jsx("button",{onClick:C,children:"관리자등록"}),e.jsx("button",{onClick:D,children:"관리자해제"})]}),e.jsx(xe,{activePage:n,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:"<<",prevPageText:"<",lastPageText:">",nextPageText:">>",onChange:l})]})}function zt(){const[t,n]=s.useState([]),[l,o]=s.useState(!1);s.useState([]);const[a,d]=s.useState(1),r=u=>{d(u)};async function i(){await fetch("/api/admin/users").then(u=>u.json()).then(u=>{console.log("userData",u),n(u)}).catch(u=>{console.error(u)})}async function c(u,h){let m;console.log("검색어와 키워드 : ",u,h),u=="all"&&(m={name:h}),u=="id"&&(m={id:h}),u=="name"&&(m={name:h}),u=="email"&&(m={email:h}),u=="nickname"&&(m={nickname:h}),await fetch("/api/admin/users/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(x=>x.json()).then(x=>{if(x.length==0){alert("검색결과가없습니다.");return}console.log("data : ",x),n(x)}).catch(x=>{console.log(x)})}return s.useEffect(()=>{i()},[]),e.jsxs("div",{className:"ad-container",children:[e.jsx("h1",{children:"회원 리스트"}),e.jsx(Yt,{userData:t,setBlackedOnly:o,blackedOnly:l,page:a,handlePageChange:r,fetchUsers:i,searchUser:c})]})}function Gt({qnaData:t,page:n,handlePageChange:l,fetchQna:o,selectCategory:a}){const d=K(),r=(n-1)*10,i=r+10,c=t.slice(r,i);console.log("paginatedQnaData",c);const[u,h]=s.useState("0"),[m,x]=s.useState(!1),[j,A]=s.useState([]),[p,b]=s.useState([]);s.useEffect(()=>{A([]),console.log("페이지바뀜",j)},[n]);const I=(f,y)=>{console.log("게시판 체크 여부",f,y),A(f?[...j,y]:j.filter(C=>C!==y))},R=f=>{if(f){console.log(c.length),console.log(f);const y=[];c.forEach(C=>console.log(C.id)),c.forEach(C=>y.push(C.id)),A(y)}else A([])};console.log("체크된 글 리스트",j),console.log("체크된 댓글글 리스트",p);async function S(){const f=j.map(y=>({id:y}));console.log(f),confirm("삭제하시겠습니까?")&&await fetch("/api/admin/qna/delete",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then(y=>y.json()).then(y=>{console.log("ddddd",y),A([]),h(u),x(!1),a(u),console.log("boardCategory",u)}).catch(y=>{console.log(y)})}async function v(){const f=j.map(y=>({id:y}));console.log(f),confirm("복구하시겠습니까??")&&await fetch("/api/admin/qna/revert",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}).then(y=>y.json()).then(y=>{console.log(y),A([]),h(u),x(!1),a(u)}).catch(y=>{console.log(y)})}return e.jsxs("div",{className:"ad-board",children:[e.jsx("div",{className:"ad-board-manage-bar",children:e.jsx("table",{className:"ad-board-manage-table",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"문의글 선택"}),e.jsx("td",{children:e.jsxs("select",{onChange:f=>{h(f.target.value),a(f.target.value,!1),x(!1),l(1),A([])},children:[e.jsx("option",{value:"0",children:"전체보기"}),e.jsx("option",{value:"1",children:"FAQ"}),e.jsx("option",{value:"2",children:"QnA"})]})}),e.jsx("td",{children:"답변 대기중 문의글만 보기"}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:f=>{l(1),x(!m),a(u,f.target.checked)},checked:!!m})})]})})})}),e.jsxs("table",{className:"ad-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"ad-board-head ad-board-head-checkbox",children:e.jsx("input",{type:"checkbox",onChange:f=>R(f.target.checked),checked:j.length===c.length})}),e.jsx("th",{className:"ad-board-head",children:"번호"}),e.jsx("th",{className:"ad-board-head",children:"제목"}),e.jsx("th",{className:"ad-board-head",children:"작성자ID"}),e.jsx("th",{className:"ad-board-head",children:"Nick"}),e.jsx("th",{className:"ad-board-head",children:"종류"}),e.jsx("th",{className:"ad-board-head",children:"상태"}),e.jsx("th",{className:"ad-board-head",children:"등록일"}),e.jsx("th",{className:"ad-board-head",children:"답변여부"})]})}),e.jsx("tbody",{children:c.map((f,y)=>f.title!=null&&e.jsxs("tr",{children:[e.jsx("td",{className:"ad-qna-checkbox",children:e.jsx("input",{type:"checkbox",onChange:C=>I(C.target.checked,f.id),checked:!!j.includes(f.id)})}),e.jsx("td",{className:"ad-board-item ad-qna-id",children:f.id}),e.jsx("td",{className:"ad-board-item ad-qna-title",children:e.jsx("span",{onClick:()=>{d(`/qna/detail/${f.id}`)},children:f.title})}),e.jsx("td",{className:"ad-board-item ad-qna-userId",children:f.userId}),e.jsx("td",{className:"ad-board-item ad-qna-nickname",children:f.nickname}),e.jsx("td",{className:"ad-board-item ad-qna-flg",children:f.flg=="1"?"FAQ":"QnA"}),e.jsx("td",{className:"ad-board-item ad-qna-status",children:f.status=="Y"?"게시":"삭제"}),e.jsx("td",{className:"ad-board-item ad-qna-date",children:f.createAt2}),e.jsx("td",{className:"ad-board-item ad-qna-replyYn",children:f.answers.length==0?"N":"Y"})]},f.id))})]}),e.jsxs("div",{className:"ad-board-btn-box",children:[e.jsx("button",{onClick:S,children:"선택삭제"}),e.jsx("button",{onClick:v,children:"선택복구"})]}),e.jsx(xe,{activePage:n,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:"<<",prevPageText:"<",lastPageText:">",nextPageText:">>",onChange:l})]})}function Zt(){const[t,n]=s.useState([]);s.useState([]);const[l,o]=s.useState(1),a=i=>{o(i)};async function d(){await fetch("/api/admin/qna").then(i=>i.json()).then(i=>{console.log("qnaData",i),n(i)}).catch(i=>{console.error(i)})}async function r(i,c){console.log(i),console.log(c),await fetch("/api/admin/qna/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flg:i})}).then(u=>u.json()).then(u=>{if(console.log("selectCategory",u),c){const h=u.filter(m=>m.answers.length==0);n(h);return}n(u)}).catch(u=>{console.log(u)})}return s.useEffect(()=>{d()},[]),e.jsxs("div",{className:"ad-container",children:[e.jsx("h1",{children:"문의글 리스트"}),e.jsx(Gt,{qnaData:t,page:l,handlePageChange:a,fetchQna:d,selectCategory:r})]})}function Xt({volData:t,page:n,handlePageChange:l,fetchVolunteer:o,selectCategory:a}){const d=K(),r=(n-1)*10,i=r+10,c=t.slice(r,i);console.log("paginatedVolData",c);const[u,h]=s.useState("A");s.useState(!1);const[m,x]=s.useState([]),[j,A]=s.useState([]);s.useEffect(()=>{x([]),console.log("페이지바뀜",m)},[n]);const p=(S,v)=>{console.log("게시판 체크 여부",S,v),x(S?[...m,v]:m.filter(f=>f!==v))},b=S=>{if(S){console.log(c.length),console.log(S);const v=[];c.forEach(f=>console.log(f.id)),c.forEach(f=>v.push(f.id)),x(v)}else x([])};console.log("체크된 글 리스트",m),console.log("체크된 댓글글 리스트",j);async function I(S){console.log(S);const v=m.map(y=>({id:y}));console.log(v);let f;if(S=="Y"){if(!confirm("신청을 승인하시겠습니까?"))return;f="permit"}if(S=="N"){if(!confirm("신청을 거부하시겠습니까?"))return;f="deny"}if(S=="R"){if(!confirm("신청 대기중으로 되돌리시겠습니까?"))return;f="wait"}if(S=="F"){if(!confirm("봉사를 완료시겠습니까?"))return;f="finish"}await fetch(`/api/admin/volunteer/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}).then(y=>y.json()).then(y=>{console.log(y),console.log("tata",u),a(u),x([])}).catch(y=>{console.log(y)})}function R(S){return S.slice(0,10)}return c&&e.jsxs("div",{className:"ad-board",children:[e.jsx("div",{className:"ad-board-manage-bar",children:e.jsx("table",{className:"ad-board-manage-table",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"게시판 선택"}),e.jsx("td",{children:e.jsxs("select",{onChange:S=>{h(S.target.value),a(S.target.value),l(1),x([])},value:u,children:[e.jsx("option",{value:"A",children:"전체보기"}),e.jsx("option",{value:"R",children:"승인대기"}),e.jsx("option",{value:"Y",children:"승인"}),e.jsx("option",{value:"N",children:"거부"}),e.jsx("option",{value:"C",children:"취소"})]})})]})})})}),e.jsxs("table",{className:"ad-board-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"ad-board-head ad-board-head-checkbox",children:e.jsx("input",{type:"checkbox",onChange:S=>{b(S.target.checked)},checked:m.length===c.length})}),e.jsx("th",{className:"ad-board-head",children:"신청번호"}),e.jsx("th",{className:"ad-board-head",children:"봉사번호"}),e.jsx("th",{className:"ad-board-head",children:"봉사활동"}),e.jsx("th",{className:"ad-board-head",children:"ID"}),e.jsx("th",{className:"ad-board-head",children:"이름"}),e.jsx("th",{className:"ad-board-head",children:"봉사날짜"}),e.jsx("th",{className:"ad-board-head",children:"신청등록일"}),e.jsx("th",{className:"ad-board-head",children:"신청상태"})]})}),e.jsx("tbody",{children:c.map((S,v)=>e.jsxs("tr",{children:[e.jsx("td",{className:"ad-vol-checkbox",children:e.jsx("input",{type:"checkbox",onChange:f=>p(f.target.checked,S.id),checked:!!m.includes(S.id)})}),e.jsx("td",{className:"ad-board-item ad-vol-id",children:S.id}),e.jsx("td",{className:"ad-board-item ad-vol-volId",children:S.volunteerId}),e.jsx("td",{className:"ad-board-item ad-vol-title",children:e.jsx("span",{onClick:()=>{d(`/vdetail/${S.volunteerCode}`,{state:{progrmRegistNo:S.volunteerCode}})},children:S.volunteerTitle})}),e.jsx("td",{className:"ad-board-item ad-vol-userId",children:S.userId}),e.jsx("td",{className:"ad-board-item ad-vol-name",children:S.userName}),e.jsx("td",{className:"ad-board-item ad-vol-selectDate",children:R(S.selectedDay)}),e.jsx("td",{className:"ad-board-item ad-vol-date",children:R(S.createAt)}),e.jsx("td",{className:"ad-board-item ad-vol-status",children:S.status=="Y"?"승인":S.status=="N"?"거부":S.status=="R"?"승인대기":S.status=="F"?"완료":S.status=="C"?"신청취소":null})]},S.id))})]}),e.jsxs("div",{className:"ad-board-btn-box",children:[e.jsx("button",{onClick:()=>{I("Y")},children:"선택승인"}),e.jsx("button",{onClick:()=>{I("N")},children:"선택거부"}),e.jsx("button",{onClick:()=>{I("R")},children:"선택승인대기"}),e.jsx("button",{onClick:()=>{I("F")},children:"봉사완료"})]}),e.jsx(xe,{activePage:n,itemsCountPerPage:10,totalItemsCount:t.length,pageRangeDisplayed:5,firstPageText:"<<",prevPageText:"<",lastPageText:">",nextPageText:">>",onChange:l})]})}function ea(){const[t,n]=s.useState([]),[l,o]=s.useState(1),a=i=>{o(i)};async function d(){await fetch("/api/admin/volunteer").then(i=>i.json()).then(i=>{console.log(i),n(i)}).catch(i=>{console.error(i)})}async function r(i){console.log(i),await fetch("/api/admin/volunteer/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:i})}).then(c=>c.json()).then(c=>{console.log("selectCategory",c),n(c)}).catch(c=>{console.log(c)})}return s.useEffect(()=>{d()},[]),e.jsxs("div",{className:"ad-container",children:[e.jsx("h1",{children:"봉사활동 신청 리스트"}),e.jsx(Xt,{volData:t,page:l,handlePageChange:a,fetchVolunteer:d,selectCategory:r})]})}function sa({setAuth:t,setIsLogin:n}){const[l,o]=s.useState(""),[a,d]=s.useState(""),[r,i]=s.useState(""),c=x=>{o(x.target.value),i("")},u=x=>{d(x.target.value),i("")},h=()=>{if(console.log("click login"),console.log("Email : ",l),console.log("Password : ",a),l===""){i("이메일을 입력해주세요.");return}else if(a===""){i("비밀번호를 입력해주세요.");return}else ee.post("api/login",{email:l,password:a}).then(x=>{console.log(x),console.log("res.data.email ::",x.data.email),console.log("res.data.msg ::",x.data.msg),console.log("res.data.nickname ::",x.data.nickname),console.log("토큰 정보:",x.data.refreshToken),x.data==="로그인 실패"?alert("입력하신 이메일과 비밀번호를 확인해주세요."):(console.log("로그인 성공"),console.log(localStorage),localStorage.setItem("email",l),localStorage.setItem("nickname",x.data.nickname),localStorage.setItem("accessToken",x.data.accessToken),localStorage.setItem("refreshToken",x.data.refreshToken),fetch("/api/user/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(j=>{if(j.ok)return j.json();throw new Error("네트워크 응답이 올바르지 않습니다.")}).then(j=>{j.authority=="ROLE_USER"&&(alert("관리자인증실패"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("nickname"),localStorage.removeItem("`email")),j.authority=="ROLE_ADMIN"&&(alert("관리자인증성공"),n(!0),t("ROLE_ADMIN"))}).catch(j=>{console.error("사용자 데이터를 가져오는 중 오류 발생:",j)}))}).catch(x=>{console.error("Error during login request:",x)})},m=x=>{x.key==="Enter"&&h()};return e.jsx("form",{className:"login-form",children:e.jsxs("div",{className:"login-box",children:[e.jsx("h1",{children:"관리자 로그인"}),e.jsx("div",{className:"ad-email",children:e.jsx("input",{type:"email",value:l,onChange:c,name:"email",className:"login-textbox",placeholder:"이메일을 입력해 주세요"})}),e.jsx("div",{className:"ad-password",children:e.jsx("input",{type:"password",value:a,onChange:u,onKeyPress:m,name:"password",className:"login-textbox",placeholder:"비밀번호를 입력해 주세요"})}),r&&e.jsx("p",{className:"login-error-message",children:r}),e.jsx("div",{children:e.jsx("button",{className:"login-button",type:"button",onClick:h,children:"로그인"})})]})})}function ta(){const t=s.useContext(J);console.log(t.userId),console.log(t.auth),console.log(t.isLogin);const[n,l]=s.useState(!1),[o,a]=s.useState(null);return console.log("isLogin : ",n),console.log("auth : ",o),n==!0&&o=="ROLE_ADMIN"||t.auth=="ROLE_ADMIN"&&t.isLogin==!0?e.jsxs("div",{children:[e.jsx(Jt,{setIsLogin:l}),e.jsxs(ve,{children:[e.jsx($,{path:"",element:e.jsx(Wt,{})}),e.jsx($,{path:"user",element:e.jsx(zt,{})}),e.jsx($,{path:"qna",element:e.jsx(Zt,{})}),e.jsx($,{path:"volunteer",element:e.jsx(ea,{})})]})]}):e.jsx(sa,{setIsLogin:l,setAuth:a})}function aa(){const{pathname:t}=ue();return s.useEffect(()=>{window.scrollTo(0,0)},[t]),null}ps.createRoot(document.getElementById("root")).render(e.jsx(Gs,{children:e.jsxs(fs,{children:[e.jsx(aa,{}),e.jsxs(ve,{children:[e.jsx($,{path:"/*",element:e.jsx(Qt,{})}),e.jsx($,{path:"/admin/*",element:e.jsx(ta,{})})]})]})}));me.setAppElement("#root");
